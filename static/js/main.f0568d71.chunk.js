(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{319:function(e,t,n){},320:function(e,t,n){},354:function(e){e.exports=JSON.parse('{"user":"Benutzer","users":"Benutzer","guest":"Guest","products":"Produkte","orders":"Bestellungen","profile":"Profil","my-orders":"Meine Bestellungen","logout":"Abmelden","login":"Anmelden","register":"Register","shopping-cart":"Einkaufswagen","admin-menu":"Admin-Men\xfc","latest-products":"Letzte Produkte","email-address":"E-Mail adresse","enter-email":"E-Mail eingeben","password":"Passwort","enter-password":"Passwort eingeben","confirm-password":"Passwort best\xe4tigen","enter-password-again":"Passwort erneut eingeben","continue-as-a-guest":"Weiter als Gast","new-customer":"Neukunde","name-and-surname":"Name und Nachname","enter-your-name":"Geben Sie Ihren Namen","enter-product-name":"Geben Sie Produkt Namen","enter-your-name-and-surname":"Geben Sie Ihren Namen und Nachnamen ein","match":"Passt","not-match":"Nicht Passt","already-have-an-account":"Haben bereits ein Konto","user-profile":"Benutzerprofil","profile-updated":"Profil aktualisiert","update":"Aktualisieren","shipping":"Versand","address":"Adresse","order-items":"Artikel bestellen","your-cart-is-empty":"Ihr Warenkorb ist leer","order-summary":"Bestellzusammenfassung","items":"Artikel","tax":"Steuer","total":"Gesamt","place-order":"Bestellung aufgeben","you-dont-have-any-orders-yet":"Sie haben noch keine Bestellungen","date":"Datum","paid":"Bezahlt","delivered":"Geliefert","cancel":"Abbrechen","payment":"Zahlung","paid-message":"Bezahlt am \\"<1>{{ date }}</1>\\" um <3>{{ time }}</3>","not-paid-yet":"Noch nicht bezahlt","delivered-message":"Geliefert am \\"<1>{{ date }}</1>\\"","not-delivered-yet":"Noch nicht geliefert","your-order-is-empty":"Ihre Bestellung ist leer","mark-as-not-paid":"Markiert als nicht bezahlt","mark-as-not-delivered":"Markiert als nicht geliefert","mark-as-paid":"Markiert als bezahlt","mark-as-delivered":"Markiert als geliefert","cancel-order":"Bestellung stornieren","guest-info":"G\xe4steinfo","shipping-address":"Lieferanschrift","street":"Stra\xdfe","enter-street":"Stra\xdfe eingeben","number":"Nummer","enter-number":"Nummer eingeben","zip-code":"Postleitzahl","enter-zip-code":"Postleitzahl eingeben","city":"Stadt","enter-city":"Stadt eingeben","country":"Land","enter-country":"Land eingeben","continue":"Weiter","payment-method":"Zahlungsmethode","select-method":"Method auswahlen","go-back":"Zur\xfcck","price":"Preis","enter-price":"Preis eingeben","description":"Beschreibung","enter-description":"Beschreibung eingeben","quantity":"Anzahl","remove-from-cart":"Aus dem Warenkorb entfernen","add-to-cart":"In den Warenkorb","go-to-cart":"Zum Warenkorb","edit-product":"Produkt bearbeiten","edit-user":"Benutzer bearbeiten","subtotal":"Zwischensumme","proceed-checkout":"Zur Kasse","user-edited-successfully":"Benutzer erfolgreich bearbeitet","success-deleted-user":"Benutzer \'<1>{{name}}</1>\' with id: <3>{{id}}</3> wurde erfolgreich gel\xf6scht.","success-deleted-product":"Produkt \'<1>{{name}}</1>\' with id: <3>{{id}}</3> wurde erfolgreich gel\xf6scht.","success-deleted-order":"Bestellung (id: <1>{{ id }}</1>) wurde erfolgreich gel\xf6scht.","there-is-no-user-yet":"Es gibt noch keinen Benutzer","there-is-no-product-yet":"Es gibt noch kein Produkt","there-is-no-order-yet":"Es gibt noch keine Bestellung","would-you-really-want-to-remove-the-user":"W\xfcrden Sie den Benutzer wirklich entfernen","would-you-really-want-to-remove-the-product":"W\xfcrden Sie das Produkt wirklich entfernen","would-you-really-want-to-cancel-the-order":"W\xfcrden Sie die Bestellung wirklich stornieren","yes":"Ja","no":"Nein","permission-level":"Berechtigungsstufe","add-product":"Produkt hinzuf\xfcgen","category":"Kategorie","enter-category":"Kategorie eingeben","brand":"Marke","enter-brand":"Marke eingeben","actions":"Aktionen","orders-by-users":"Bestellungen nach Benutzern","orders-by-guests":"Bestellungen von G\xe4sten","success-product-was-updated":"Erfolg: Produkt wurde erfolgreich aktualisiert","success-product-was-generated":"Erfolg: Produkt wurde erfolgreich generiert","count-in-stock":"Anzahl auf Lager","enter-count-in-stock":"Anzahl des Artikels, der auf Lager ist, eingeben","image":"Bild","back-to-product-list":"Zur\xfcck zur Produktliste","show-product":"Produkt anzeigen","choose-file":"Datei w\xe4hlen","add-a-new-product":"Neues Produkt hinzuf\xfcgen","this-field-cannot-be-emty":"Dieses Feld kann nicht leer sein","looks-good":"Sieht gut aus","please-enter-a-positive-number":"Bitte geben Sie eine positive Zahl ein","generate":"Generieren","value":"Wert","go":"Detail","categories":"Kategorien"}')},355:function(e){e.exports=JSON.parse('{"user":"User","users":"Users","guest":"Guest","products":"Products","orders":"Orders","profile":"Profile","my-orders":"My Orders","logout":"Logout","login":"Login","register":"Register","shopping-cart":"Shopping Cart","admin-menu":"Admin Menu","latest-products":"Latest Products","email-address":"Email Address","enter-email":"Enter Email","password":"Password","enter-password":"Enter Password","confirm-password":"Confirm Password","enter-password-again":"Enter password again","continue-as-a-guest":"Continue as a Guest","new-customer":"New Customer","name-and-surname":"Name and Surname","enter-your-name":"Enter your name","enter-product-name":"Enter product name","enter-your-name-and-surname":"Enter your name and surname","match":"Match","not-match":"Not Match","already-have-an-account":"Already have an account","user-profile":"User Profile","profile-updated":"Profile Updated","update":"Update","shipping":"Shipping","address":"Address","order-items":"Order items","your-cart-is-empty":"Your cart is empty","order-summary":"Order Summary","items":"Items","tax":"Tax","total":"Total","place-order":"Place order","you-dont-have-any-orders-yet":"You don\'t have any orders yet","date":"Date","paid":"Paid","delivered":"Delivered","cancel":"Cancel","payment":"Payment","paid-message":"Paid on \\"<1>{{ date }}</1>\\" at <3>{{ time }}</3>","not-paid-yet":"Not paid yet","delivered-message":"Delivered at \\"<1>{{ date }}</1>\\"","not-delivered-yet":"Not delivered yet","your-order-is-empty":"Your Order is empty","mark-as-not-paid":"Mark as Not Paid","mark-as-not-delivered":"Mark as Not Delivered","mark-as-paid":"Mark as Paid","mark-as-delivered":"Mark as Delivered","cancel-order":"Cancel Order","guest-info":"Guest Info","shipping-address":"Shipping Address","street":"Street","enter-street":"Enter Street","number":"Number","enter-number":"Enter Number","zip-code":"Zip Code","enter-zip-code":"Enter Zip Code","city":"City","enter-city":"Enter City","country":"Country","enter-country":"Enter Country","continue":"Continue","payment-method":"Payment Method","select-method":"Select Method","go-back":"Go Back","price":"Price","enter-price":"Enter Price","description":"Description","enter-description":"Enter Description","quantity":"Quantity","remove-from-cart":"Remove from cart","add-to-cart":"Add to Cart","go-to-cart":"Go to Cart","edit-product":"Edit Product","edit-user":"Edit User","subtotal":"Subtotal","proceed-checkout":"Proceed Checkout","user-edited-successfully":"User edited successfully","success-deleted-user":"User \'<1>{{ name }}</1>\' with id: <3>{{ id }}</3> was successfully deleted.","success-deleted-product":"Product \'<1>{{ name }}</1>\' with id: <3>{{ id }}</3> was successfully deleted.","success-deleted-order":"Order (id: <1>{{ id }}</1>) was successfully deleted.","there-is-no-user-yet":"There is no user yet","there-is-no-product-yet":"There is no product yet","there-is-no-order-yet":"There is no order yet","would-you-really-want-to-remove-the-user":"Would you really want to remove the user","would-you-really-want-to-remove-the-product":"Would you really want to remove the product","would-you-really-want-to-cancel-the-order":"Would you really want to cancel the order","yes":"Yes","no":"No","permission-level":"Permission Level","add-product":"Add product","category":"Category","enter-category":"Enter Category","brand":"Brand","enter-brand":"Enter Brand","actions":"Actions","orders-by-users":"Orders By Users","orders-by-guests":"Orders By Guests","success-product-was-updated":"Success: Product was succesfully updated","success-product-was-generated":"Success: Product was succesfully generated","count-in-stock":"Count In Stock","enter-count-in-stock":"Enter the number of items that are in stock","image":"Image","back-to-product-list":"Back to Product List","show-product":"Show Product","choose-file":"Choose File","add-a-new-product":"Add a New Product","this-field-cannot-be-emty":"This field cannot be empty","looks-good":"Looks good","please-enter-a-positive-number":"Please enter a positive number","generate":"Generate","value":"Value","go":"Go to details","categories":"Categories"}')},356:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(25),c=n.n(r),s=n(9),i=n(71),l=n(169),o=(n(186),n(6)),d={PRODUCT_NEW_ADD_REQUEST:"PRODUCT_NEW_ADD_REQUEST",PRODUCT_NEW_ADD_SUCCESS:"PRODUCT_NEW_ADD_SUCCESS",PRODUCT_NEW_ADD_FAILED:"PRODUCT_NEW_ADD_FAILED",PRODUCT_NEW_ADD_RESET:"PRODUCT_NEW_ADD_RESET",PRODUCT_LIST_REQUEST:"PRODUCT_LIST_REQUEST",PRODUCT_LIST_SUCCESS:"PRODUCT_LIST_SUCCESS",PRODUCT_LIST_FAILED:"PRODUCT_LIST_FAILED",PRODUCT_EDIT_REQUEST:"USER_EDIT_REQUEST",PRODUCT_EDIT_SUCCESS:"USER_EDIT_SUCCESS",PRODUCT_EDIT_FAIL:"USER_EDIT_FAIL",PRODUCT_EDIT_RESET:"USER_EDIT_RESET",SINGLE_PRODUCT_REQUEST:"SINGLE_PRODUCT_REQUEST",SINGLE_PRODUCT_SUCCESS:"SINGLE_PRODUCT_SUCCESS",SINGLE_PRODUCT_FAILED:"SINGLE_PRODUCT_FAILED",SINGLE_PRODUCT_RESET:"SINGLE_PRODUCT_RESET",DELETE_SINGLE_PRODUCT_REQUEST:"DELETE_SINGLE_PRODUCT_REQUEST",DELETE_SINGLE_PRODUCT_SUCCESS:"DELETE_SINGLE_PRODUCT_SUCCESS",DELETE_SINGLE_PRODUCT_FAILED:"DELETE_SINGLE_PRODUCT_FAILED",CART_ADD_ITEM:"CART_ADD_ITEM",CART_REMOVE_ITEM:"CART_REMOVE_ITEM",CART_ITEMS_RESET:"CART_ITEMS_RESET",USER_REGISTER_REQUEST:"USER_REGISTER_REQUEST",USER_REGISTER_SUCCESS:"USER_REGISTER_SUCCESS",USER_REGISTER_FAILED:"USER_REGISTER_FAILED",USER_REGISTER_RESET:"USER_REGISTER_RESET",REMOVE_USER_REGISTER_ERRORS:"REMOVE_USER_REGISTER_ERRORS",USER_LOGIN_REQUEST:"USER_LOGIN_REQUEST ",USER_LOGIN_SUCCESS:"USER_LOGIN_SUCCESS",USER_LOGIN_FAILED:"USER_LOGIN_FAILED",USER_LOGIN_RESET:"USER_LOGIN_RESET",USER_LOGOUT:"USER_LOGOUT",USER_AS_GUEST_REQUEST:"USER_AS_GUEST_REQUEST ",USER_AS_GUEST_SUCCESS:"USER_AS_GUEST_SUCCESS",USER_AS_GUEST_FAILED:"USER_AS_GUEST_FAILED",USER_AS_GUEST_RESET:"USER_AS_GUEST_RESET",USER_LIST_REQUEST:"USER_LIST_REQUEST ",USER_LIST_SUCCESS:"USER_LIST_SUCCESS",USER_LIST_FAILED:"USER_LIST_FAILED",USER_LIST_RESET:"USER_LIST_RESET",USER_DELETE_REQUEST:"USER_DELETE_REQUEST ",USER_DELETE_SUCCESS:"USER_DELETE_SUCCESS",USER_DELETE_FAILED:"USER_DELETE_FAILED",USER_DELETE_RESET:"USER_DELETE_RESET",USER_PROFILE_UPDATE_REQUEST:"USER_PROFILE_UPDATE_REQUEST",USER_PROFILE_UPDATE_SUCCESS:"USER_PROFILE_UPDATE_SUCCESS",USER_PROFILE_UPDATE_FAILED:"USER_PROFILE_UPDATE_FAILED",USER_DETAILS_REQUEST:"USER_DETAILS_REQUEST",USER_DETAILS_SUCCESS:"USER_DETAILS_SUCCESS",USER_DETAILS_FAIL:"USER_DETAILS_FAIL",USER_DETAILS_RESET:"USER_DETAILS_RESET",CART_SAVE_USER_SHIPPING_ADDRESS:"CART_SAVE_USER_SHIPPING_ADDRESS",CART_SAVE_USER_PAYMENT_METHOD:"CART_SAVE_USER_PAYMENT_METHOD",ORDER_CREATE_REQUEST:"ORDER_CREATE_REQUEST",ORDER_CREATE_SUCCESS:"ORDER_CREATE_SUCCESS",ORDER_CREATE_FAIL:"ORDER_CREATE_FAIL",ORDER_CREATE_RESET:"ORDER_CREATE_RESET",ORDER_LIST_REQUEST:"ORDER_LIST_REQUEST",ORDER_LIST_SUCCESS:"ORDER_LIST_SUCCESS",ORDER_LIST_FAIL:"ORDER_LIST_FAIL",ORDER_LIST_RESET:"ORDER_LIST_RESET",ORDER_CANCEL_REQUEST:"ORDER_CANCEL_REQUEST",ORDER_CANCEL_SUCCESS:"ORDER_CANCEL_SUCCESS",ORDER_CANCEL_FAIL:"ORDER_CANCEL_FAIL",ORDER_CANCEL_RESET:"ORDER_CANCEL_RESET",ORDER_DETAILS_BY_ID_REQUEST:"ORDER_DETAILS_BY_ID_REQUEST",ORDER_DETAILS_BY_ID_SUCCESS:"ORDER_DETAILS_BY_ID_SUCCESS",ORDER_DETAILS_BY_ID_FAIL:"ORDER_DETAILS_BY_ID_FAIL",MY_ORDERS_REQUEST:"MY_ORDERS_REQUEST",MY_ORDERS_SUCCESS:"MY_ORDERS_SUCCESS",MY_ORDERS_FAIL:"MY_ORDERS_FAIL",MY_ORDERS_RESET:"MY_ORDERS_RESET",ORDER_PAY_REQUEST:"ORDER_PAY_REQUEST",ORDER_PAY_SUCCESS:"ORDER_PAY_SUCCESS",ORDER_PAY_FAIL:"ORDER_PAY_FAIL",ORDER_PAY_RESET:"ORDER_PAY_RESET",ORDER_PAY_ADMIN_REQUEST:"ORDER_PAY_ADMIN_REQUEST",ORDER_PAY_ADMIN_SUCCESS:"ORDER_PAY_ADMIN_SUCCESS",ORDER_PAY_ADMIN_FAIL:"ORDER_PAY_ADMIN_FAIL",ORDER_PAY_ADMIN_RESET:"ORDER_PAY_ADMIN_RESET",ORDER_DELIVER_REQUEST:"ORDER_DELIVER_REQUEST",ORDER_DELIVER_SUCCESS:"ORDER_DELIVER_SUCCESS",ORDER_DELIVER_FAIL:"ORDER_DELIVER_FAIL",ORDER_DELIVER_RESET:"ORDER_DELIVER_RESET",ORDER_NOT_DELIVER_REQUEST:"ORDER_NOT_DELIVER_REQUEST",ORDER_NOT_DELIVER_SUCCESS:"ORDER_NOT_DELIVER_SUCCESS",ORDER_NOT_DELIVER_FAIL:"ORDER_NOT_DELIVER_FAIL",ORDER_NOT_DELIVER_RESET:"ORDER_NOT_DELIVER_RESET",PAYPAL_CLIENT_ID_REQUEST:"PAYPAL_CLIENT_ID_REQUEST",PAYPAL_CLIENT_ID_SUCCESS:"PAYPAL_CLIENT_ID_SUCCESS",PAYPAL_CLIENT_ID_FAIL:"PAYPAL_CLIENT_ID_FAIL",USER_EDIT_REQUEST:"USER_EDIT_REQUEST",USER_EDIT_SUCCESS:"USER_EDIT_SUCCESS",USER_EDIT_FAIL:"USER_EDIT_FAIL",USER_EDIT_RESET:"USER_EDIT_RESET"},u=n(19),j=Object(i.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.PRODUCT_LIST_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.PRODUCT_LIST_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,products:t.payload});case d.PRODUCT_LIST_FAILED:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.SINGLE_PRODUCT_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.SINGLE_PRODUCT_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,product:t.payload});case d.SINGLE_PRODUCT_FAILED:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.SINGLE_PRODUCT_RESET:return{};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.DELETE_SINGLE_PRODUCT_REQUEST:return Object(o.a)({},e);case d.DELETE_SINGLE_PRODUCT_SUCCESS:return{success:!0,deletedProduct:t.payload};case d.DELETE_SINGLE_PRODUCT_FAILED:return{error:t.payload};case d.DELETE_SINGLE_PRODUCT_RESET:return{deletedProduct:null};default:return e}},productEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.PRODUCT_EDIT_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.PRODUCT_EDIT_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!0});case d.PRODUCT_EDIT_FAIL:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.PRODUCT_EDIT_RESET:return{};default:return e}},productNewAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{productAdded:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.PRODUCT_NEW_ADD_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.PRODUCT_NEW_ADD_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,productAdded:t.payload});case d.PRODUCT_NEW_ADD_FAILED:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.PRODUCT_NEW_ADD_RESET:return{productAdded:null};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.CART_ADD_ITEM:var n=t.payload,a=e.cartItems.find((function(e){return e._id===n._id}));return a?Object(o.a)(Object(o.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e._id===a._id?n:e}))}):Object(o.a)(Object(o.a)({},e),{},{cartItems:[].concat(Object(u.a)(e.cartItems),[n])});case d.CART_REMOVE_ITEM:return Object(o.a)(Object(o.a)({},e),{},{cartItems:Object(u.a)(e.cartItems.filter((function(e){return e._id!==t.payload.id})))});case d.CART_ITEMS_RESET:return localStorage.removeItem("cartItems"),Object(o.a)(Object(o.a)({},e),{},{cartItems:[]});case d.CART_SAVE_USER_SHIPPING_ADDRESS:return Object(o.a)(Object(o.a)({},e),{},{shippingAddress:Object(o.a)({},t.payload)});case d.CART_SAVE_USER_PAYMENT_METHOD:return Object(o.a)(Object(o.a)({},e),{},{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_LOGIN_REQUEST:return{loading:!0};case d.USER_LOGIN_SUCCESS:return{loading:!1,userInfo:t.payload};case d.USER_LOGIN_FAILED:return{loading:!1,error:t.payload};case d.USER_LOGIN_RESET:return{};default:return e}},userAsGuest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_AS_GUEST_REQUEST:return{loading:!0};case d.USER_AS_GUEST_SUCCESS:return{loading:!1,guestInfo:t.payload};case d.USER_AS_GUEST_FAILED:return{loading:!1,error:t.payload};case d.USER_AS_GUEST_RESET:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_REGISTER_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.USER_REGISTER_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,userInfo:t.payload});case d.USER_REGISTER_FAILED:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.REMOVE_USER_REGISTER_ERRORS:return Object(o.a)(Object(o.a)({},e),{},{error:null});case d.USER_REGISTER_RESET:return{};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_DELETE_REQUEST:return Object(o.a)({},e);case d.USER_DELETE_SUCCESS:return{success:!0,deletedUser:t.payload};case d.USER_DELETE_FAILED:return{error:t.payload};case d.USER_DELETE_RESET:return{deletedUser:null};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_DETAILS_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.USER_DETAILS_SUCCESS:return{loading:!1,user:t.payload};case d.USER_DETAILS_FAIL:return{loading:!1,error:t.payload};case d.USER_DETAILS_RESET:return{user:{}};default:return e}},userProfileUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_PROFILE_UPDATE_REQUEST:return{loading:!0};case d.USER_PROFILE_UPDATE_SUCCESS:return{success:!0,loading:!1,users:t.payload};case d.USER_PROFILE_UPDATE_FAILED:return{loading:!1,error:t.payload};case d.USER_PROFILE_UPDATE_RESET:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_LIST_REQUEST:return{loading:!0};case d.USER_LIST_SUCCESS:return{loading:!1,users:t.payload};case d.USER_LIST_FAILED:return{loading:!1,error:t.payload};case d.USER_LIST_RESET:return{users:[]};default:return e}},userEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.USER_EDIT_REQUEST:return Object(o.a)({},e);case d.USER_EDIT_SUCCESS:return{success:!0};case d.USER_EDIT_FAIL:return{error:t.payload};case d.USER_EDIT_RESET:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ORDER_CREATE_REQUEST:return{loading:!0};case d.ORDER_CREATE_SUCCESS:return{loading:!1,success:!0,order:t.payload};case d.ORDER_CREATE_FAIL:return{loading:!1,error:t.payload};case d.ORDER_CREATE_RESET:return{loading:!1};default:return e}},orderCancel:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case d.ORDER_CANCEL_REQUEST:return{loading:!0};case d.ORDER_CANCEL_SUCCESS:return{loading:!1,success:!0,cancelledOrder:null===n||void 0===n||null===(e=n.payload)||void 0===e?void 0:e.removedOrder};case d.ORDER_CANCEL_FAIL:return{loading:!1,error:n.payload};case d.ORDER_CANCEL_RESET:return{};default:return t}},orderDetailsById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ORDER_DETAILS_BY_ID_REQUEST:return{loading:!0};case d.ORDER_DETAILS_BY_ID_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,order:t.payload});case d.ORDER_DETAILS_BY_ID_FAIL:return{loading:!1,error:t.payload};default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.MY_ORDERS_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.MY_ORDERS_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,myOrders:t.payload});case d.MY_ORDERS_FAIL:return{loading:!1,error:t.payload};case d.MY_ORDERS_RESET:return{myOrder:[]};default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ORDER_LIST_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.ORDER_LIST_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,orders:t.payload});case d.ORDER_LIST_FAIL:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ORDER_PAY_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.ORDER_PAY_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!0});case d.ORDER_PAY_FAIL:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.ORDER_PAY_RESET:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!1});default:return e}},orderPayAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ORDER_PAY_ADMIN_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.ORDER_PAY_ADMIN_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!0});case d.ORDER_PAY_ADMIN_FAIL:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.ORDER_PAY_ADMIN_RESET:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!1});default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ORDER_DELIVER_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.ORDER_DELIVER_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!0});case d.ORDER_DELIVER_FAIL:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.ORDER_DELIVER_RESET:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!1});default:return e}},orderNotDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ORDER_NOT_DELIVER_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case d.ORDER_NOT_DELIVER_SUCCESS:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!0});case d.ORDER_NOT_DELIVER_FAIL:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case d.ORDER_NOT_DELIVER_RESET:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,success:!1});default:return e}},paypalClientId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{paypalClientId:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.PAYPAL_CLIENT_ID_REQUEST:return Object(o.a)(Object(o.a)({},e),{},{success:!1});case d.PAYPAL_CLIENT_ID_SUCCESS:return{success:!0,paypalClientId:t.payload};case d.PAYPAL_CLIENT_ID_FAIL:return Object(o.a)(Object(o.a)({},e),{},{success:!1,error:t.payload});default:return e}}}),b={cartItemsFromLocalStorage:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],userInfoFromLocalStorage:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,userAsGuestInfoFromLocalStorage:localStorage.getItem("userAsGuestInfo")?JSON.parse(localStorage.getItem("userAsGuestInfo")):null,shippingAddressFromLocalStorage:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):null},p=function(e,t){localStorage.setItem(e,JSON.stringify(t))},m={cart:{cartItems:b.cartItemsFromLocalStorage,shippingAddress:b.shippingAddressFromLocalStorage},userLogin:{userInfo:b.userInfoFromLocalStorage},userAsGuest:{guestInfo:b.userAsGuestInfoFromLocalStorage}},h=[l.a],O=Object(i.c)(j,m,i.a.apply(void 0,h)),x=(n(319),n(320),n(21)),E=n(20),f=n(361),v=n(362),g=n(171),S=n(0),_=function(){return Object(S.jsx)("footer",{children:Object(S.jsx)(f.a,{children:Object(S.jsx)(v.a,{children:Object(S.jsx)(g.a,{className:"text-center py-3",children:"Copyright\xa9 HappyShopping"})})})})},y=n(8),R=n(14),I=n(11),N=n.n(I),T=n(12),C=n(13),A=n.n(C),D=function(){return function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("userPaymentMethod"),localStorage.removeItem("userAsGuestInfo"),t({type:d.USER_LOGIN_RESET}),t({type:d.USER_AS_GUEST_RESET}),t({type:d.USER_REGISTER_RESET}),t({type:d.USER_DETAILS_RESET}),t({type:d.MY_ORDERS_RESET}),t({type:d.USER_LIST_RESET});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.USER_DETAILS_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.get("/api/users/".concat(e),s);case 6:i=t.sent,l=i.data,n({type:d.USER_DETAILS_SUCCESS,payload:l}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Not authorized, token failed"===(o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(D()),n({type:d.USER_DETAILS_FAIL,payload:o});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},U=function(){return function(){var e=Object(T.a)(N.a.mark((function e(t,n){var a,r,c,s,i,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.USER_LIST_REQUEST}),a=n(),r=a.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,A.a.get("/api/users",c);case 6:s=e.sent,i=s.data,t({type:d.USER_LIST_SUCCESS,payload:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:d.USER_LIST_FAILED,payload:l});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},k=n(376),w=n(364),P=n(380),F=n(176),G=n(365),M=n(172),Q=n.n(M),B=function(e){return e<320?"xs":e>=320&&e<720?"sm":e>=720&&e<1024?"md":e>=1024?"lg":void 0},z=function(){var e=Object(a.useState)((function(){return B(window.innerWidth)})),t=Object(y.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)((function(){return window.innerWidth})),s=Object(y.a)(c,2),i=s[0],l=s[1];return Object(a.useEffect)((function(){var e=Q()((function(){r(B(window.innerWidth)),l(window.innerWidth)}),200);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),{brkPnt:n,width:i}},Y=n(363),V=function(e){e.history;var t=Object(Y.a)().t,n=Object(Y.a)().i18n,r=Object(a.useState)("de"),c=Object(y.a)(r,2),i=c[0],l=c[1],o=function(e){n.changeLanguage(e.target.value),l(e.target.value)},d=Object(s.b)(),u=z().width,j=Object(s.c)((function(e){return e.userLogin})).userInfo,b=Object(s.c)((function(e){return e.cart})).cartItems,p=!!j;return Object(S.jsx)("header",{children:Object(S.jsxs)(k.a,{bg:"dark",fixed:"top",variant:"dark",expand:"md",collapseOnSelect:!0,children:[Object(S.jsx)(R.LinkContainer,{to:"/",children:Object(S.jsx)(k.a.Brand,{children:"HappyShopping"})}),(null===j||void 0===j?void 0:j.isAdmin)&&u>=768&&Object(S.jsxs)(w.a,{title:t("admin-menu"),id:"adminmenu",className:"d-md-flex flex-column justify-content-md-center",children:[Object(S.jsx)(R.LinkContainer,{to:"/admin/userlist",children:Object(S.jsx)(w.a.Item,{children:t("users")})}),Object(S.jsx)(w.a.Divider,{}),Object(S.jsx)(R.LinkContainer,{to:"/admin/productlist",children:Object(S.jsx)(w.a.Item,{children:t("products")})}),Object(S.jsx)(w.a.Divider,{}),Object(S.jsx)(R.LinkContainer,{to:"/admin/orderlist",children:Object(S.jsx)(w.a.Item,{children:t("orders")})})]}),Object(S.jsx)(k.a.Toggle,{"aria-controls":"collapse"}),Object(S.jsx)(k.a.Collapse,{id:"collapse",children:Object(S.jsxs)(P.a,{className:"ml-auto",children:[p?Object(S.jsxs)(S.Fragment,{children:[(null===j||void 0===j?void 0:j.isAdmin)&&u<768&&Object(S.jsxs)(w.a,{title:t("admin-menu"),id:"adminmenu",className:"d-md-flex flex-column justify-content-md-center",children:[Object(S.jsx)(R.LinkContainer,{to:"/admin/userlist",children:Object(S.jsx)(w.a.Item,{children:t("users")})}),Object(S.jsx)(w.a.Divider,{}),Object(S.jsx)(R.LinkContainer,{to:"/admin/productlist",children:Object(S.jsx)(w.a.Item,{children:t("products")})}),Object(S.jsx)(w.a.Divider,{}),Object(S.jsx)(R.LinkContainer,{to:"/admin/orderlist",children:Object(S.jsx)(w.a.Item,{children:t("orders")})})]}),Object(S.jsxs)(w.a,{title:j.name,id:"username",className:"d-md-flex flex-column justify-content-md-center",children:[Object(S.jsx)(R.LinkContainer,{to:"/profile",children:Object(S.jsx)(w.a.Item,{children:t("profile")})}),Object(S.jsx)(w.a.Divider,{}),Object(S.jsx)(R.LinkContainer,{to:"/my-orders",children:Object(S.jsx)(w.a.Item,{children:t("my-orders")})}),Object(S.jsx)(w.a.Divider,{}),Object(S.jsx)(w.a.Item,{onClick:function(){d(D())},children:t("logout")})]})]}):Object(S.jsx)(R.LinkContainer,{to:"/login",children:Object(S.jsx)(P.a.Link,{children:Object(S.jsxs)(F.a,{variant:"outline-light border-0",size:"sm",children:[Object(S.jsx)("i",{className:"fas fa-user mr-2"})," ",t("login")]})})}),Object(S.jsx)(R.LinkContainer,{to:"/cart",children:Object(S.jsx)(P.a.Link,{children:Object(S.jsxs)(F.a,{variant:"outline-light border-0",size:"sm",className:"position-relative",children:[Object(S.jsx)("i",{className:"fas fa-shopping-cart"}),0!==(null===b||void 0===b?void 0:b.length)&&Object(S.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill badge-warning text-dark",children:b.length}),Object(S.jsx)("span",{className:0!==(null===b||void 0===b?void 0:b.length)?"ml-3":"ml-2",children:t("shopping-cart")})]})})}),Object(S.jsx)("div",{className:"d-flex align-items-center",children:Object(S.jsxs)(G.a,{style:{height:"30px"},children:[Object(S.jsx)(F.a,{className:"de"===i?"border-0 bg-warning d-flex align-items-center":"border-0 bg-secondary d-flex align-items-center",onClick:o,value:"de",children:"De"}),Object(S.jsx)(F.a,{className:"en"===i?"border-0 bg-warning d-flex align-items-center":"border-0 bg-secondary d-flex align-items-center",onClick:o,value:"en",children:"En"})]})})]})})]})})},W=n(381),H=function(){return function(){var e=Object(T.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.PRODUCT_LIST_REQUEST}),e.next=4,A.a.get("/api/products");case 4:n=e.sent,a=n.data,t({type:d.PRODUCT_LIST_SUCCESS,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:d.PRODUCT_LIST_FAILED,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n){var a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.SINGLE_PRODUCT_REQUEST}),t.next=4,A.a.get("/api/products/".concat(e));case 4:a=t.sent,r=a.data,n({type:d.SINGLE_PRODUCT_SUCCESS,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:d.SINGLE_PRODUCT_FAILED,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},K=n(366),J=function(e){var t=e.rating,n=e.numReviews,a=e.color;return Object(S.jsxs)("div",{children:[[1,2,3,4,5].map((function(e){return Object(S.jsx)("i",{className:t>=e?"fas fa-star pr-1":t>=e-.5?"fas fa-star-half-alt pr-1":"far fa-star pr-1",style:{color:a}},e)})),n&&Object(S.jsxs)("span",{children:[" ",n," reviews"]})]})};J.defaultProp={color:"gold"};var Z=J,$=n(375),X=function(e){var t=e.productId,n=e.images,a=e.style;return Object(S.jsx)($.a,{interval:null,style:{width:(null===a||void 0===a?void 0:a.width)?a.width:"100%",height:(null===a||void 0===a?void 0:a.height)?a.height:"100%",cursor:1===(null===n||void 0===n?void 0:n.length)?"auto":"pointer"},controls:1!==(null===n||void 0===n?void 0:n.length),children:0!==(null===n||void 0===n?void 0:n.length)&&n.map((function(e,n){return Object(S.jsx)($.a.Item,{children:Object(S.jsx)(x.Link,{to:"/products/".concat(t),children:Object(S.jsx)("img",{src:null===e||void 0===e?void 0:e.path,alt:e.name,style:Object(o.a)(Object(o.a)({},a),{},{objectFit:"cover"})})})},n)}))})},ee=function(e){var t,n=e.product,a=Object(Y.a)().t,r=Object(E.k)();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(W.a,{className:"pb-3 rounded h-100",children:[Object(S.jsx)(X,{productId:null===n||void 0===n?void 0:n._id,images:null===n||void 0===n?void 0:n.image,style:{width:"100%",height:"300px"}}),Object(S.jsxs)(W.a.Body,{className:"d-flex flex-column justify-content-between pointer pb-0",onClick:function(){return r.push("/products/".concat(null===n||void 0===n?void 0:n._id))},style:{cursor:"pointer"},children:[Object(S.jsxs)(W.a.Title,{as:"div",children:[Object(S.jsx)("strong",{children:null===n||void 0===n?void 0:n.name}),Object(S.jsx)("sup",{className:"ml-2",children:Object(S.jsxs)(K.a,{pill:!0,className:"badge-warning px-2 py-1",children:[a("go"),Object(S.jsx)("i",{className:"fas fa-external-link-alt pl-2 fa-xs"})]})})]}),Object(S.jsxs)(W.a.Text,{as:"div",children:[Object(S.jsx)(Z,{rating:n.rating,numReviews:n.numReviews,color:"gold"}),Object(S.jsx)("h3",{className:"text-left mt-3",children:(t=n.price,new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(t))})]})]})]})})},te=n(367);var ne=function(){return Object(S.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"Flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0, .1)",zIndex:2},children:Object(S.jsx)(te.a,{animation:"border",variant:"info",style:{width:"100px",height:"100px",margin:"auto",display:"block",zIndex:1},children:Object(S.jsx)("span",{className:"sr-only",children:"Loading..."})})})},ae=n(368),re=function(e){var t=e.variant,n=e.children;return Object(S.jsx)(ae.a,{variant:t,className:"px-2",children:n})};re.defaultProps={variant:"info"};var ce=re,se=function(){var e=Object(Y.a)().t,t=Object(Y.a)().i18n,n=Object(a.useState)([]),r=Object(y.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(""),o=Object(y.a)(l,2),d=o[0],j=o[1],b=Object(s.b)(),p=Object(s.c)((function(e){return e.products})),m=p.loading,h=p.error,O=p.products,x=Object(a.useState)([]),E=Object(y.a)(x,2),f=E[0],_=E[1];return Object(a.useEffect)((function(){b(H())}),[b]),Object(a.useEffect)((function(){(null===O||void 0===O?void 0:O.length)&&_(d&&"All"!==d&&"Alle"!==d?O.filter((function(e){return e.category===d})):O)}),[b,O,d]),Object(a.useEffect)((function(){if(!(null===c||void 0===c?void 0:c.length)&&O){var e=[];O.forEach((function(t){e.find((function(e){return e===t.category}))||e.push(t.category)})),i(e)}}),[c,O]),Object(a.useEffect)((function(){(null===c||void 0===c?void 0:c.length)&&!c.find((function(e){return"en"===t.language&&"All"===e||"de"===t.language&&"Alle"===e}))&&("en"===t.language?i((function(e){return e=e.filter((function(e){return"Alle"!==e&&"All"!==e})),["All"].concat(Object(u.a)(e))})):i((function(e){return e=e.filter((function(e){return"Alle"!==e&&"All"!==e})),["Alle"].concat(Object(u.a)(e))})))}),[c,t.language]),Object(S.jsx)(S.Fragment,{children:m?Object(S.jsx)(ne,{}):h?Object(S.jsx)(ce,{variant:"danger",messageText:h}):Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{xs:12,md:3,lg:2,className:"mb-4",children:Object(S.jsxs)(W.a,{children:[Object(S.jsx)(W.a.Header,{children:Object(S.jsxs)("h4",{children:[e("categories"),":"]})}),Object(S.jsx)(G.a,{vertical:!0,as:W.a,className:"p-0 border-0",children:(null===c||void 0===c?void 0:c.length)&&c.map((function(e,t){return Object(S.jsx)(F.a,{className:"btn btn-light text-info btn-outline-warning border-0 text-left pl-3",onClick:function(){return j(e)},children:e},t)}))})]})}),Object(S.jsxs)(g.a,{xs:12,md:9,lg:10,children:[Object(S.jsx)("h2",{className:"mb-3",children:e("latest-products")}),Object(S.jsx)(v.a,{children:f.map((function(e){return Object(S.jsx)(g.a,{xs:12,md:6,lg:4,className:"mb-3",children:Object(S.jsx)(ee,{product:e})},e._id)}))})]})]})})},ie=n(382),le=n(374),oe=function(e,t){return function(){var n=Object(T.a)(N.a.mark((function n(a,r){var c,s;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.a.get("/api/products/".concat(e));case 3:c=n.sent,s=c.data,a({type:d.CART_ADD_ITEM,payload:{_id:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),p("cartItems",r().cart.cartItems),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},de=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:d.CART_REMOVE_ITEM,payload:{id:e}}),p("cartItems",a().cart.cartItems);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:d.CART_SAVE_USER_PAYMENT_METHOD,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},je=function(e){e.history;var t=e.match,n=Object(Y.a)().t,r=z().width,c=Object(a.useState)(1),i=Object(y.a)(c,2),l=i[0],o=i[1],d=Object(s.b)(),j=Object(s.c)((function(e){return e.product})),b=j.loading,p=j.error,m=j.product,h=Object(s.c)((function(e){return e.cart})).cartItems,O=Object(s.c)((function(e){return e.userLogin})).userInfo,E=!!h.filter((function(e){return e._id===t.params.id})).length,_=Object(a.useState)(E),R=Object(y.a)(_,2),I=R[0],N=R[1];Object(a.useEffect)((function(){d(q(t.params.id))}),[d,t.params.id]);var T=function(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)};return console.log("qty: ",l),Object(S.jsx)(f.a,{children:b?Object(S.jsx)(ne,{}):p?Object(S.jsx)(ce,{variant:"danger",messageText:p}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x.Link,{to:"/",className:"btn btn-dark",children:n("go-back")}),Object(S.jsxs)(v.a,{className:"my-3",children:[Object(S.jsx)(g.a,{md:12,lg:5,className:"d-flex no-gutter justify-content-center align-items-center my-3",style:r<576?{height:"200px"}:{height:"400px"},children:m&&Object(S.jsx)(X,{productId:m._id,images:m.image,style:{width:"100%",height:r<576?"200px":"400px"}})}),Object(S.jsx)(g.a,{md:7,lg:4,children:Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsx)(ie.a.Item,{className:"px-0",children:Object(S.jsx)("h3",{children:null===m||void 0===m?void 0:m.name})}),Object(S.jsx)(ie.a.Item,{className:"px-0",children:Object(S.jsx)(Z,{rating:null===m||void 0===m?void 0:m.rating,numReviews:null===m||void 0===m?void 0:m.numReviews,color:"gold"})}),Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[n("price"),": ",T(null===m||void 0===m?void 0:m.price)]}),Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[n("description"),": ",null===m||void 0===m?void 0:m.description]})]})}),Object(S.jsx)(g.a,{md:5,lg:3,className:"my-3",children:Object(S.jsx)(W.a,{children:Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsxs)(g.a,{children:[n("price"),": "]}),Object(S.jsx)(g.a,{children:Object(S.jsx)("strong",{children:T(null===m||void 0===m?void 0:m.price)})})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{children:"Status: "}),Object(S.jsx)(g.a,{children:(null===m||void 0===m?void 0:m.countInStock)>0?"In Stock":"Out of Stock"})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsxs)(g.a,{className:"d-flex align-items-center",children:[n("quantity"),": "]}),Object(S.jsx)(g.a,{children:(null===m||void 0===m?void 0:m.countInStock)>0&&Object(S.jsx)(le.a.Control,{as:"select",value:l,onChange:function(e){return o(e.target.value)},children:Object(u.a)(Array(m.countInStock).keys()).map((function(e){return Object(S.jsx)("option",{children:e+1},e)}))})})]})}),Object(S.jsxs)(ie.a.Item,{children:[Object(S.jsx)(v.a,{children:I?Object(S.jsxs)(F.a,{type:"button",className:"btn btn-block",disabled:(null===m||void 0===m?void 0:m.countInStock)<=0,onClick:function(){d(de(t.params.id)),N(!1)},children:[Object(S.jsx)("i",{className:"fas fa-times mr-2"}),n("remove-from-cart")]}):Object(S.jsxs)(F.a,{type:"button",className:"btn btn-block",disabled:(null===m||void 0===m?void 0:m.countInStock)<=0,onClick:function(){d(oe(t.params.id,l)),N(!0)},children:[Object(S.jsx)("i",{className:"fas fa-plus mr-2"}),n("add-to-cart")]})}),Object(S.jsx)(v.a,{children:Object(S.jsxs)(x.Link,{to:"/cart",className:"btn btn-info btn-block mt-2",children:[Object(S.jsx)("i",{className:"fas fa-shopping-cart mr-2"}),n("go-to-cart")]})}),(null===O||void 0===O?void 0:O.isAdmin)&&Object(S.jsx)(v.a,{children:Object(S.jsxs)(x.Link,{to:"/admin/productedit/".concat(t.params.id,"/edit"),className:"btn btn-warning btn-block mt-2",children:[Object(S.jsx)("i",{className:"fas fa-cut mr-2"}),n("edit-product")]})})]})]})})})]})]})})},be=n(369),pe=function(e){var t=e.match,n=e.location,r=e.history,c=Object(Y.a)().t,i=t.params.id?t.params.id:null,l=n.search?Number(n.search.split("=")[1]):1,o=Object(s.b)(),d=Object(s.c)((function(e){return e.cart})).cartItems;Object(a.useEffect)((function(){i&&o(oe(i,l))}),[o,i,l]);var j=function(e,t){o(oe(e,Number(t)))},b=function(e){o(de(e))},p=function(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)};return Object(S.jsx)(f.a,{children:Object(S.jsx)(v.a,{children:Object(S.jsxs)(g.a,{md:12,children:[Object(S.jsxs)("h2",{className:"mb-2",children:[c("shopping-cart"),":"]}),0===d.length?Object(S.jsxs)(ce,{children:[c("your-cart-is-empty"),".",Object(S.jsx)(x.Link,{to:"/",children:Object(S.jsxs)(F.a,{className:"btn-sm ml-3",variant:"outline-info",children:[Object(S.jsx)("i",{className:"fas fa-home pr-1"})," Home"]})})]}):Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{md:8,className:"px-0",children:Object(S.jsx)(ie.a,{variant:"",children:d.map((function(e){return Object(S.jsx)(ie.a.Item,{className:"my-2 px-2 py-2",style:{backgroundColor:"ghostwhite",borderTopWidth:"1px"},children:Object(S.jsxs)(v.a,{className:"align-items-center m-0",children:[Object(S.jsx)(g.a,{xs:3,md:2,className:"px-0",children:Object(S.jsx)(be.a,{src:e.image[0].path,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(g.a,{md:4,lg:5,className:"d-none d-md-block fs-14 px-2 px-md-2 py-2",children:Object(S.jsx)(x.Link,{to:"/products/".concat(e._id),children:e.name})}),Object(S.jsx)(g.a,{md:2,className:"d-none d-md-block px-0",children:p(e.price)}),Object(S.jsx)(g.a,{md:2,className:"d-none d-md-block px-0",children:Object(S.jsx)(le.a.Control,{as:"select",value:e.qty,onChange:function(t){return j(e._id,t.target.value)},children:Object(u.a)(Array(e.countInStock).keys()).map((function(e){return Object(S.jsx)("option",{children:e+1},e)}))})}),Object(S.jsx)(g.a,{md:1,className:"d-none d-md-block pr-0 text-right",children:Object(S.jsx)(F.a,{type:"button",variant:"light",onClick:function(){return b(e._id)},children:Object(S.jsx)("i",{className:"fas fa-trash"})})}),Object(S.jsxs)(g.a,{xs:9,className:"d-md-none align-items-stretch",children:[Object(S.jsx)(v.a,{className:"justify-content-around align-items-center",children:Object(S.jsx)(g.a,{className:"d-flex-start fs-14 py-2",children:Object(S.jsx)(x.Link,{to:"/products/".concat(e._id),children:e.name})})}),Object(S.jsxs)(v.a,{className:"justify-content-around align-items-center",children:[Object(S.jsx)(g.a,{xs:5,className:"d-flex-start",children:p(e.price)}),Object(S.jsx)(g.a,{xs:4,className:"text-right px-1",children:Object(S.jsx)(le.a.Control,{as:"select",value:e.qty,onChange:function(t){return j(e._id,t.target.value)},children:Object(u.a)(Array(e.countInStock).keys()).map((function(e){return Object(S.jsx)("option",{children:e+1},e)}))})}),Object(S.jsx)(g.a,{xs:3,className:"text-right px-0",children:Object(S.jsx)(F.a,{type:"button",variant:"light",onClick:function(){return b(e._id)},children:Object(S.jsx)("i",{className:"fas fa-trash"})})})]})]})]})},e._id)}))})}),Object(S.jsxs)(g.a,{md:4,className:"mb-5 px-0 pl-md-4",children:[Object(S.jsx)(W.a,{className:"my-2 text-right",children:Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsx)(W.a.Header,{className:"p-3 text-right",children:Object(S.jsxs)("h5",{className:"mb-0",children:[c("subtotal"),": ",Object(S.jsxs)("span",{className:"text-nowrap",children:[d.reduce((function(e,t){return e+Number(t.qty)}),0)," item"]})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)("h4",{children:[" ",p(d.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2))]})})]})}),Object(S.jsx)(F.a,{type:"button",className:"btn btn-success btn-block",disabled:0===d.length,onClick:function(){r.push("/login?redirect=shipping")},children:c("proceed-checkout")})]})]})]})})})},me=function(e){var t=e.location,n=e.history,r=Object(Y.a)().t,c=Object(a.useState)(""),i=Object(y.a)(c,2),l=i[0],o=i[1],u=Object(a.useState)(""),j=Object(y.a)(u,2),b=j[0],p=j[1],m=Object(s.b)(),h=Object(s.c)((function(e){return e.userLogin})),O=h.loading,E=h.error,_=h.userInfo,R=Object(s.c)((function(e){return e.cart})).cartItems,I=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){_&&n.push(I)}),[n,_,I]);return Object(S.jsx)(f.a,{className:"px-0",children:Object(S.jsx)(v.a,{className:"align-items-center justify-content-center",children:Object(S.jsxs)(g.a,{className:"col-12 col-md-7 col-lg-5",children:[Object(S.jsx)("h3",{className:"mb-2",children:r("login")}),E&&Object(S.jsx)(ce,{variant:"danger",children:E}),O&&Object(S.jsx)(ne,{}),Object(S.jsx)(W.a,{children:Object(S.jsx)(W.a.Body,{className:"px-2 px-md-3",children:Object(S.jsxs)(le.a,{onSubmit:function(e){var t;e.preventDefault(),m((t={email:l,password:b},function(){var e=Object(T.a)(N.a.mark((function e(n){var a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:d.USER_LOGIN_REQUEST}),a={headers:{"Content-Type":"Application/json"}},e.next=5,A.a.post("/api/users/login",t,a);case 5:r=e.sent,c=r.data,n({type:d.USER_LOGIN_SUCCESS,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:d.USER_LOGIN_FAILED,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:localStorage.removeItem("userAsGuestInfo");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(S.jsxs)(le.a.Group,{controlId:"email",children:[Object(S.jsx)(le.a.Label,{children:r("email-address")}),Object(S.jsx)(le.a.Control,{type:"email",placeholder:r("enter-email"),value:l,onChange:function(e){return o(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"password",children:[Object(S.jsx)(le.a.Label,{children:r("password")}),Object(S.jsx)(le.a.Control,{type:"password",placeholder:r("enter-password"),value:b,onChange:function(e){return p(e.target.value)}})]}),Object(S.jsx)(F.a,{type:"submit",variant:"primary",className:"btn-block",children:r("login")}),Object(S.jsxs)(v.a,{className:"py-3",children:[Object(S.jsx)(g.a,{className:"text-left fs-14",children:Object(S.jsx)(F.a,{variant:"link",size:"sm",onClick:function(){return null===e||void 0===e||e.preventDefault(),console.log("redirect: ",I),void(I?n.push(I):(null===R||void 0===R?void 0:R.length)?n.push("/shipping"):n.push("/"));var e},children:Object(S.jsxs)("div",{className:"text-left",children:[Object(S.jsx)("i",{className:"fas fa-walking pr-1"}),r("continue-as-a-guest")]})})}),Object(S.jsx)(g.a,{className:"text-right fs-14",children:Object(S.jsx)(F.a,{variant:"link",size:"sm",children:Object(S.jsxs)("div",{className:"text-right",children:[r("new-customer")," ? "," ",Object(S.jsxs)(x.Link,{to:I?"/register?redirect=".concat(I):"/register",children:[r("register"),Object(S.jsx)("i",{className:"fas fa-sign-in-alt pl-1"})]})]})})})]})]})})})]})})})},he=function(e){var t=e.children;return Object(S.jsx)(f.a,{className:"px-0",children:Object(S.jsx)(v.a,{className:"justify-content-md-center",style:{minHeight:"calc(100vh - 144px)"},children:Object(S.jsx)(g.a,{xs:12,md:9,lg:8,xl:6,children:t})})})},Oe=function(e){var t=e.location,n=e.history,r=Object(Y.a)().t,c=Object(a.useState)(""),i=Object(y.a)(c,2),l=i[0],o=i[1],u=Object(a.useState)(""),j=Object(y.a)(u,2),b=j[0],p=j[1],m=Object(a.useState)(""),h=Object(y.a)(m,2),O=h[0],x=h[1],E=Object(a.useState)(""),f=Object(y.a)(E,2),_=f[0],R=f[1],I=Object(a.useState)(!1),C=Object(y.a)(I,2),D=C[0],L=C[1],U=Object(a.useState)(!0),k=Object(y.a)(U,2),w=k[0],P=k[1],G=Object(a.useState)(null),M=Object(y.a)(G,2),Q=M[0],B=M[1],z=Object(s.b)(),V=Object(s.c)((function(e){return e.userRegister})),H=V.loading,q=V.error,J=V.userInfo,Z=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){J&&n.push(Z)}),[n,J,Z]);return Object(S.jsxs)(he,{children:[Object(S.jsx)("h3",{className:"mb-2",children:r("register")}),Q&&Object(S.jsx)(ce,{variant:"danger",children:Q}),q&&Object(S.jsx)(ce,{variant:"danger",children:q}),H&&Object(S.jsx)(ne,{}),Object(S.jsx)(W.a,{children:Object(S.jsx)(W.a.Body,{className:"p-2",children:Object(S.jsxs)(le.a,{onSubmit:function(e){var t;e.preventDefault(),O!==_?B("Passwords don't match!"):D?l&&b?z((t={name:l,email:b,password:O},function(){var e=Object(T.a)(N.a.mark((function e(n){var a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:d.USER_REGISTER_REQUEST}),a={headers:{"Content-Type":"Application/json"}},e.next=5,A.a.post("/api/users/register",t,a);case 5:r=e.sent,c=r.data,n({type:d.USER_REGISTER_SUCCESS,payload:c}),n({type:d.USER_LOGIN_SUCCESS,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n({type:d.USER_REGISTER_FAILED,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())):B("Name or Email is missing!"):B("Password should be between 6 to 20 characters which contain at least one numeric digit, one uppercase and one lowercase letter.")},children:[Object(S.jsxs)(le.a.Group,{controlId:"name",children:[Object(S.jsxs)(le.a.Label,{children:[r("name-and-surname"),"*"]}),Object(S.jsx)(le.a.Control,{type:"text",placeholder:r("enter-your-name-and-surname"),value:l,onChange:function(e){return o(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"email",children:[Object(S.jsxs)(le.a.Label,{children:[r("email-address"),"*"]}),Object(S.jsx)(le.a.Control,{type:"email",placeholder:r("enter-email"),value:b,onChange:function(e){return p(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"password",children:[Object(S.jsxs)(le.a.Row,{children:[Object(S.jsx)(g.a,{children:Object(S.jsxs)(le.a.Label,{children:[r("password"),"*"]})}),Object(S.jsx)(g.a,{xs:"auto",className:"d-flex align-items-center",children:!w&&O&&(D?Object(S.jsx)(K.a,{pill:!0,variant:"success",children:Object(S.jsx)("i",{className:"fas fa-thumbs-up text-white"})}):Object(S.jsx)(K.a,{pill:!0,variant:"secondary",children:Object(S.jsx)("i",{className:"fas fa-thumbs-down text-white"})}))})]}),Object(S.jsx)(le.a.Control,{type:"password",placeholder:r("enter-password"),value:O,onChange:function(e){x(e.target.value),function(e){var t=!(!e.trim().length||!_.trim().length);P(t),w||(e.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/)?L(!0):L(!1))}(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"confirmPassword",children:[Object(S.jsxs)(le.a.Row,{children:[Object(S.jsx)(g.a,{children:Object(S.jsxs)(le.a.Label,{children:[r("confirm-password"),"*"]})}),Object(S.jsx)(g.a,{xs:"auto",className:"d-flex align-items-center",children:!w&&_&&(O===_?Object(S.jsx)(K.a,{pill:!0,variant:"success",children:Object(S.jsx)("i",{className:"fas fa-thumbs-up text-white"})}):Object(S.jsx)(K.a,{pill:!0,variant:"secondary",children:Object(S.jsx)("i",{className:"fas fa-thumbs-down text-white"})}))})]}),Object(S.jsx)(le.a.Control,{type:"password",placeholder:r("enter-password-again"),value:_,onChange:function(e){return R(e.target.value)}}),Object(S.jsx)("div",{children:!w&&_&&(O===_?Object(S.jsxs)(K.a,{variant:"success",children:[Object(S.jsx)("i",{className:"fas fa-check mr-1"}),r("match")]}):Object(S.jsxs)(K.a,{variant:"secondary",children:[Object(S.jsx)("i",{className:"fas fa-times mr-1"}),r("not-match")]}))})]}),Object(S.jsx)(F.a,{type:"submit",variant:"primary",className:"btn-block",children:r("register")}),Object(S.jsx)(v.a,{className:"py-3",children:Object(S.jsxs)(g.a,{className:"text-right fs-14",children:[r("already-have-an-account")," ? "," ",Object(S.jsxs)("div",{onClick:function(){z((function(e){e({type:d.REMOVE_USER_REGISTER_ERRORS})})),n.push(Z?"/login?redirect=".concat(Z):"/login")},style:{cursor:"pointer",color:"#e95420"},children:[r("login"),Object(S.jsx)("i",{className:"fas fa-sign-in-alt pl-1"})]})]})})]})})})]})},xe=function(e){e.location;var t=e.history,n=Object(Y.a)().t,r=Object(a.useState)(""),c=Object(y.a)(r,2),i=c[0],l=c[1],o=Object(a.useState)(""),u=Object(y.a)(o,2),j=u[0],b=u[1],p=Object(a.useState)(""),m=Object(y.a)(p,2),h=m[0],O=m[1],x=Object(a.useState)(""),E=Object(y.a)(x,2),f=E[0],v=E[1],_=Object(a.useState)(!1),R=Object(y.a)(_,2),I=R[0],C=R[1],U=Object(a.useState)(!0),k=Object(y.a)(U,2),w=k[0],P=k[1],G=Object(a.useState)(null),M=Object(y.a)(G,2),Q=M[0],B=M[1],z=Object(s.b)(),V=Object(s.c)((function(e){return e.userDetails})),H=V.loading,q=V.error,J=V.user;console.log("user: ",J);var Z=Object(s.c)((function(e){return e.userLogin})).userInfo;console.log("userInfo: ",Z);var $=Object(s.c)((function(e){return e.userProfileUpdate})).success;console.log("success: ",$),Object(a.useEffect)((function(){Z?J&&J.name&&!$?(l(J.name),b(J.email)):(z({type:d.USER_PROFILE_UPDATE_REQUEST}),z(L("profile"))):t.push("/login")}),[z,t,Z,J,$]);return Object(S.jsxs)(he,{children:[Object(S.jsx)("h2",{className:"mb-2",children:n("user-profile")}),Q&&Object(S.jsx)(ce,{variant:"danger",children:Q}),$&&Object(S.jsx)(ce,{variant:"success",children:"Profile Updated"}),H?Object(S.jsx)(ne,{}):q?Object(S.jsx)(ce,{variant:"danger",children:q}):Object(S.jsx)(W.a,{children:Object(S.jsx)(W.a.Body,{className:"p-2",children:Object(S.jsxs)(le.a,{onSubmit:function(e){e.preventDefault(),h!==f?B("Passwords don't match!"):z(function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.USER_PROFILE_UPDATE_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.put("/api/users/profile",e,s);case 6:i=t.sent,l=i.data,n({type:d.USER_DETAILS_SUCCESS,payload:l}),n({type:d.USER_PROFILE_UPDATE_SUCCESS,payload:l}),n({type:d.USER_LOGIN_SUCCESS,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),"Not authorized, token failed"===(o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(D()),n({type:d.USER_PROFILE_UPDATE_FAIL,payload:o});case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:J._id,name:i,email:j,password:h}))},children:[Object(S.jsxs)(le.a.Group,{controlId:"name",children:[Object(S.jsx)(le.a.Label,{children:n("name-and-surname")}),Object(S.jsx)(le.a.Control,{type:"name",placeholder:n("enter-your-name-and-surname"),value:i,onChange:function(e){return l(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"email",children:[Object(S.jsx)(le.a.Label,{children:n("email-address")}),Object(S.jsx)(le.a.Control,{type:"email",placeholder:n("enter-email"),value:j,onChange:function(e){return b(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"password",children:[Object(S.jsxs)(le.a.Row,{children:[Object(S.jsx)(g.a,{children:Object(S.jsx)(le.a.Label,{children:n("password")})}),Object(S.jsx)(g.a,{xs:"auto",className:"d-flex align-items-center",children:!w&&h&&(I?Object(S.jsx)(K.a,{pill:!0,variant:"success",children:Object(S.jsx)("i",{className:"fas fa-thumbs-up text-white"})}):Object(S.jsx)(K.a,{pill:!0,variant:"secondary",children:Object(S.jsx)("i",{className:"fas fa-thumbs-down text-white"})}))})]}),Object(S.jsx)(le.a.Control,{type:"password",placeholder:n("enter-password"),value:h,onChange:function(e){O(e.target.value),function(e){var t=!(!e.trim().length||!f.trim().length);P(t),w||(e.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/)?C(!0):C(!1))}(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"confirmPassword",children:[Object(S.jsxs)(le.a.Row,{children:[Object(S.jsx)(g.a,{children:Object(S.jsx)(le.a.Label,{children:n("confirm-password")})}),Object(S.jsx)(g.a,{xs:"auto",className:"d-flex align-items-center",children:!w&&f&&(h===f?Object(S.jsx)(K.a,{pill:!0,variant:"success",children:Object(S.jsx)("i",{className:"fas fa-thumbs-up text-white"})}):Object(S.jsx)(K.a,{pill:!0,variant:"secondary",children:Object(S.jsx)("i",{className:"fas fa-thumbs-down text-white"})}))})]}),Object(S.jsx)(le.a.Control,{type:"password",placeholder:n("enter-password-again"),value:f,onChange:function(e){return v(e.target.value)}}),Object(S.jsx)("div",{children:!w&&f&&(h===f?Object(S.jsxs)(K.a,{variant:"success",children:[Object(S.jsx)("i",{className:"fas fa-check mr-1"}),n("match")]}):Object(S.jsxs)(K.a,{variant:"secondary",children:[Object(S.jsx)("i",{className:"fas fa-times mr-1"}),n("not-match")]}))})]}),Object(S.jsx)(F.a,{type:"submit",variant:"primary",className:"btn-block",children:n("update")})]})})})]})},Ee=function(e){var t=e.step1,n=e.step2,a=e.step3,r=Object(Y.a)().t;return Object(S.jsxs)(P.a,{className:"justify-content-center  align-items-center mb-4",children:[Object(S.jsx)(P.a.Item,{children:t?Object(S.jsx)(R.LinkContainer,{to:"/login",children:Object(S.jsx)(P.a.Link,{children:Object(S.jsx)("h4",{className:"mb-0 fs-20",children:r("login")})})}):Object(S.jsx)(P.a.Link,{disabled:!0,children:r("login")})}),n?Object(S.jsx)(P.a.Item,{children:Object(S.jsxs)("strong",{children:[Object(S.jsx)("i",{className:"fas fa-greater-than text-danger"}),Object(S.jsx)("i",{className:"fas fa-greater-than text-danger"})]})}):Object(S.jsx)(P.a.Item,{children:Object(S.jsx)("i",{className:"fas fa-greater-than text-secondary"})}),Object(S.jsx)(P.a.Item,{children:n?Object(S.jsx)(R.LinkContainer,{to:"/shipping",children:Object(S.jsx)(P.a.Link,{children:Object(S.jsx)("h4",{className:"mb-0 fs-20",children:r("shipping")})})}):Object(S.jsx)(P.a.Link,{disabled:!0,children:r("shipping")})}),a?Object(S.jsx)(P.a.Item,{children:Object(S.jsxs)("strong",{children:[Object(S.jsx)("i",{className:"fas fa-greater-than text-danger"}),Object(S.jsx)("i",{className:"fas fa-greater-than text-danger"})]})}):Object(S.jsx)(P.a.Item,{children:Object(S.jsx)("i",{className:"fas fa-greater-than text-secondary"})}),Object(S.jsx)(P.a.Item,{children:a?Object(S.jsx)(R.LinkContainer,{to:"/placeorder",children:Object(S.jsx)(P.a.Link,{children:Object(S.jsx)("h4",{className:"mb-0 fs-20",children:r("place-order")})})}):Object(S.jsx)(P.a.Link,{disabled:!0,children:r("place-order")})})]})},fe=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l,o,u,j,b,p,m;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n({type:d.ORDER_CREATE_REQUEST}),c=a(),c.userAsGuest.guestInfo&&(null===e||void 0===e?void 0:e.visitor)){t.next=13;break}return s=a(),i=s.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=8,A.a.post("/api/orders",e,l);case 8:o=t.sent,u=o.data,r=u,t.next=19;break;case 13:return j={headers:{"Content-Type":"application/json"}},t.next=16,A.a.post("/api/orders/visitor-order",e,j);case 16:b=t.sent,p=b.data,r=p;case 19:console.log("orderData: ",r),n({type:d.ORDER_CREATE_SUCCESS,payload:r}),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(0),m=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,n({type:d.ORDER_CREATE_FAIL,payload:m});case 27:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e,n){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.ORDER_CANCEL_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.delete("/api/orders/".concat(e),s);case 6:i=t.sent,l=i.data,n({type:d.ORDER_CANCEL_SUCCESS,payload:l}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,n({type:d.ORDER_CANCEL_FAIL,payload:o});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},ge=function(){return function(){var e=Object(T.a)(N.a.mark((function e(t,n){var a,r,c,s,i,l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.MY_ORDERS_REQUEST}),a=n(),r=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,A.a.get("/api/orders/myorders",c);case 6:s=e.sent,i=s.data,t({type:d.MY_ORDERS_SUCCESS,payload:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:d.MY_ORDERS_FAIL,payload:l});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},Se=function(){return function(){var e=Object(T.a)(N.a.mark((function e(t,n){var a,r,c,s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.ORDER_LIST_REQUEST}),a=n(),r=a.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,A.a.get("/api/orders",c);case 6:s=e.sent,i=s.data,console.log("data: ",i),t({type:d.ORDER_LIST_SUCCESS,payload:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:d.ORDER_LIST_FAILED,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()},_e=function(e){var t,n,r,c,i,l,o,u,j,b=e.history,p=Object(Y.a)().t,m=Object(s.b)(),h=Object(s.c)((function(e){return e.cart})),O=Object(s.c)((function(e){return e.userAsGuest})).guestInfo,E=function(e){return Math.round(100*e/100).toFixed(2)};h.itemsPrice=E(h.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),h.shippingPrice=h.itemsPrice>100?E(0):Number(0),h.taxPrice=0,h.totalPrice=E(Number(h.itemsPrice)+Number(h.shippingPrice)+Number(h.taxPrice));var _=Object(s.c)((function(e){return e.orderCreate})),y=_.order,R=_.success,I=_.error;Object(a.useEffect)((function(){R&&(m({type:d.ORDER_CREATE_RESET}),b.push("/orders/".concat(y._id)))}),[b,R,y,m]);var N=function(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)};return console.log("cart.cartItems: ",h.cartItems),Object(S.jsxs)(f.a,{children:[Object(S.jsx)(Ee,{step1:!0,step2:!0,step3:!0}),Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{lg:8,children:Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[Object(S.jsxs)("h4",{className:"mb-2",children:[p("shipping"),":"]}),Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{md:2,children:Object(S.jsxs)("p",{className:"mb-0",children:[p("address"),":"]})}),Object(S.jsxs)(g.a,{children:[Object(S.jsx)("span",{className:"mb-0",children:(null===(t=h.shippingAddress)||void 0===t?void 0:t.street)&&(null===(n=h.shippingAddress)||void 0===n?void 0:n.number)&&"".concat(h.shippingAddress.street," ").concat(h.shippingAddress.number)}),Object(S.jsxs)("span",{className:"mb-0",children:[(null===(r=h.shippingAddress)||void 0===r?void 0:r.zipcode)&&" ".concat(null===(c=h.shippingAddress)||void 0===c?void 0:c.zipcode),",",(null===(i=h.shippingAddress)||void 0===i?void 0:i.city)&&" ".concat(null===(l=h.shippingAddress)||void 0===l?void 0:l.city),",",(null===(o=h.shippingAddress)||void 0===o?void 0:o.country)&&" ".concat(null===(u=h.shippingAddress)||void 0===u?void 0:u.country)]})]})]})]}),Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[Object(S.jsxs)("h4",{className:"mb-2",children:[p("order-items"),":"]}),(null===h||void 0===h||null===(j=h.cartItems)||void 0===j?void 0:j.length)?Object(S.jsx)(ie.a,{variant:"",children:h.cartItems.map((function(e,t){return Object(S.jsx)(ie.a.Item,{className:"my-2 p-2",style:{backgroundColor:"ghostwhite",borderTopWidth:"1px"},children:Object(S.jsxs)(v.a,{className:"align-items-center m-0",children:[Object(S.jsx)(g.a,{xs:2,lg:1,className:"px-0",children:Object(S.jsx)(be.a,{src:e.image[0].path,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(g.a,{xs:6,lg:7,className:"px-2 fs-12",children:Object(S.jsx)(x.Link,{to:"/products/".concat(e._id),children:e.name})}),Object(S.jsxs)(g.a,{xs:4,className:"px-0 fs-12",children:[e.qty," x ",N(e.price)," = ",N(Number(e.qty)*Number(e.price))]})]})},t)}))}):Object(S.jsxs)(ce,{children:[p("your-cart-is-empty"),"."]})]})]})}),Object(S.jsx)(g.a,{lg:4,className:"mb-5 pl-lg-4",children:Object(S.jsx)(ie.a,{variant:"flush",children:Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[Object(S.jsx)(W.a,{className:"my-2 text-right",children:Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsx)(W.a.Header,{className:"p-3 text-right",children:Object(S.jsx)("h5",{className:"mb-0 text-center",children:p("order-summary")})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsxs)(g.a,{xs:4,className:"px-1",children:[p("items"),":"]}),Object(S.jsx)(g.a,{xs:8,className:"pr-4 text-right",children:N(h.itemsPrice)})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsxs)(g.a,{xs:4,className:"px-1",children:[p("shipping"),":"]}),Object(S.jsx)(g.a,{xs:8,className:"pr-4 text-right",children:N(h.shippingPrice)})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{xs:4,className:"px-1",children:Object(S.jsx)("h5",{children:Object(S.jsxs)("strong",{children:[p("total"),":"]})})}),Object(S.jsx)(g.a,{xs:8,className:"pr-4 text-right",children:Object(S.jsx)("h5",{children:Object(S.jsx)("strong",{children:N(h.totalPrice)})})})]})})]})}),I&&Object(S.jsx)(ce,{variant:"danger",children:I}),Object(S.jsx)(F.a,{type:"button",className:"btn btn-success btn-block",disabled:!h.cartItems.length,onClick:function(){m(fe(O?{visitor:O,cartItems:h.cartItems,shippingAddress:h.shippingAddress,paymentMethod:h.paymentMethod?h.paymentMethod:"PayPal",itemsPrice:h.itemsPrice,shippingPrice:h.shippingPrice,taxPrice:h.taxPrice,totalPrice:h.totalPrice}:{cartItems:h.cartItems,shippingAddress:h.shippingAddress,paymentMethod:h.paymentMethod?h.paymentMethod:"PayPal",itemsPrice:h.itemsPrice,shippingPrice:h.shippingPrice,taxPrice:h.taxPrice,totalPrice:h.totalPrice}))},children:p("place-order")})]})})})]})]})},ye=n(177),Re=n(383),Ie=function(e){var t,n,r,c,i,l,o,u,j,b,p,m=e.match,h=e.history,O=Object(Y.a)().t,E=m.params.id,_=Object(a.useState)(!1),R=Object(y.a)(_,2),I=R[0],C=R[1],D=Object(s.b)(),L=Object(s.c)((function(e){return e.userLogin})).userInfo,U=Object(s.c)((function(e){return e.orderDetailsById})),k=U.order,w=U.loading,P=U.error,G=Object(s.c)((function(e){return e.orderPay})),M=G.loading,Q=G.success,B=G.error,z=Object(s.c)((function(e){return e.orderPayAdmin})),V=z.loading,H=z.success,q=z.error,K=Object(s.c)((function(e){return e.orderDeliver})),J=K.loading,Z=K.success,$=K.error,X=Object(s.c)((function(e){return e.orderNotDeliver})),ee=X.loading,te=X.success,ae=X.error,re=Object(s.c)((function(e){return e.orderCancel})),se=re.success,le=re.error,oe=Object(s.c)((function(e){return e.paypalClientId})).paypalClientId;if(!w&&!M){k&&(k.itemsPrice=(p=k.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),Math.round(100*p/100).toFixed(2)))}Object(a.useEffect)((function(){var e,t=function(){var e=Object(T.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.getElementById("script"))&&t.remove();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(!k||Q||H||Z||te||(null===k||void 0===k?void 0:k._id)!==E)&&(t(),D({type:d.ORDER_PAY_RESET}),D({type:d.ORDER_PAY_ADMIN_RESET}),D({type:d.ORDER_DELIVER_RESET}),D({type:d.ORDER_NOT_DELIVER_RESET}),D((e=E,function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l,o,u,j,b,p;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n({type:d.ORDER_DETAILS_BY_ID_REQUEST}),c=a(),!(s=c.userLogin.userInfo)){t.next=12;break}return i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=7,A.a.get("/api/orders/".concat(e),i);case 7:l=t.sent,o=l.data,r=o,t.next=18;break;case 12:return u={headers:{"Content-Type":"application/json"}},t.next=15,A.a.get("/api/orders/visitor-order/".concat(e),u);case 15:j=t.sent,b=j.data,r=b;case 18:n({type:d.ORDER_DETAILS_BY_ID_SUCCESS,payload:r}),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),p=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,n({type:d.ORDER_DETAILS_BY_ID_FAIL,payload:p});case 25:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e,n){return t.apply(this,arguments)}}())))}),[D,E,Q,k,Z,te,H]),Object(a.useEffect)((function(){var e=function(){var e=Object(T.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=document.createElement("script")).type="text/javascript",n.id="paypalScript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(t,"&buyer-country=DE&currency=EUR&locale=de_DE"),n.async=!0,n.onload=function(){C(!0)},document.body.appendChild(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();k&&k.user&&(L||h.push("/login")),k&&!k.isPaid&&(window.paypal?C(!0):(D(function(){var e=Object(T.a)(N.a.mark((function e(t,n){var a,r,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.PAYPAL_CLIENT_ID_REQUEST}),a={headers:{"Content-Type":"application/json"}},e.next=5,A.a.get("/api/config/paypal-client-id",a);case 5:r=e.sent,c=r.data,t({type:d.PAYPAL_CLIENT_ID_SUCCESS,payload:c}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:d.PAYPAL_CLIENT_ID_FAIL,payload:s});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),oe&&(e(oe),console.log("paypalClientId: ",oe))))}),[D,k,I,oe,L,h]),Object(a.useEffect)((function(){return se&&h.push("/cart"),function(){(se||le)&&D({type:d.ORDER_CANCEL_RESET})}}),[D,h,se,le]);var de,ue=function(){if(null===L||void 0===L?void 0:L.isAdmin){var e={id:L._id,status:(null===k||void 0===k?void 0:k.isPaid)?"MARKED AS NOT PAID BY ADMIN":"MARKED AS PAID BY ADMIN",update_time:Date.now(),email_address:L.email};D(function(e,t){return function(){var n=Object(T.a)(N.a.mark((function n(a,r){var c,s,i,l,o,u,j,b,p;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a({type:d.ORDER_PAY_ADMIN_REQUEST}),c=r(),s=c.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},null===e||void 0===e?void 0:e.isPaid){n.next=12;break}return n.next=7,A.a.put("/api/orders/".concat(e._id,"/pay-admin"),t,i);case 7:o=n.sent,u=o.data,l=u,n.next=17;break;case 12:return n.next=14,A.a.put("/api/orders/".concat(e._id,"/pay-admin-not"),t,i);case 14:j=n.sent,b=j.data,l=b;case 17:a({type:d.ORDER_PAY_ADMIN_SUCCESS,payload:l}),n.next=24;break;case 20:n.prev=20,n.t0=n.catch(0),p=n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message,a({type:d.ORDER_PAY_ADMIN_FAIL,payload:p});case 24:case"end":return n.stop()}}),n,null,[[0,20]])})));return function(e,t){return n.apply(this,arguments)}}()}(k,e))}},je=function(){k.isDelivered?D(function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.ORDER_NOT_DELIVER_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.put("/api/orders/".concat(e,"/not-deliver"),null,s);case 6:i=t.sent,l=i.data,console.log("data: ",l),n({type:d.ORDER_NOT_DELIVER_SUCCESS,payload:l}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,n({type:d.ORDER_NOT_DELIVER_FAIL,payload:o});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(E)):D(function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.ORDER_DELIVER_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.put("/api/orders/".concat(e,"/deliver"),null,s);case 6:i=t.sent,l=i.data,console.log("data: ",l),n({type:d.ORDER_DELIVER_SUCCESS,payload:l}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),o=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,n({type:d.ORDER_DELIVER_FAIL,payload:o});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(E))},pe=function(e){return new Date(e).toLocaleDateString("de-DE",{dateStyle:"full"})},me=function(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)};return console.log("order: ",k),w||M||V||J||ee?Object(S.jsx)(ne,{}):P||B||q||$||ae?Object(S.jsx)(ce,{variant:"danger",children:P||B||q||$||ae}):Object(S.jsx)(f.a,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{lg:8,children:Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[Object(S.jsxs)("h4",{className:"mb-2",children:[O("payment"),":"]}),Object(S.jsx)(v.a,{children:Object(S.jsx)(g.a,{className:"col-12 mt-2",children:(null===k||void 0===k?void 0:k.isPaid)?Object(S.jsx)(ce,{variant:"success",children:Object(S.jsxs)(Re.a,{i18nKey:"paid-message",children:["Paid on ",pe(null===k||void 0===k?void 0:k.paidAt)," at ",(de=null===k||void 0===k?void 0:k.paidAt,new Date(de).toLocaleTimeString("de-DE",{timeStyle:"short"}))]})}):Object(S.jsxs)(ce,{variant:"danger",children:[O("not-paid-yet"),"."]})})})]}),Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[Object(S.jsx)("h4",{className:"mb-2",children:O("shipping")}),((null===k||void 0===k||null===(t=k.user)||void 0===t?void 0:t.name)||(null===k||void 0===k||null===(n=k.visitor)||void 0===n?void 0:n.name))&&Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{md:4,className:"mb-0",children:Object(S.jsxs)("strong",{children:[O("name-and-surname"),": "]})}),Object(S.jsx)(g.a,{md:8,className:"mb-0",children:Object(S.jsx)("span",{children:k.user?k.user.name:k.visitor&&k.visitor.name})})]}),((null===k||void 0===k||null===(r=k.user)||void 0===r?void 0:r.email)||(null===k||void 0===k||null===(c=k.visitor)||void 0===c?void 0:c.email))&&Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{md:4,className:"mb-0",children:Object(S.jsx)("strong",{children:"Email: "})}),Object(S.jsx)(g.a,{md:8,className:"mb-0",children:Object(S.jsx)("span",{children:k.user?Object(S.jsx)("a",{href:"mailto:".concat(k.user.email),children:k.user.email}):k.visitor&&Object(S.jsx)("a",{href:"mailto:".concat(k.visitor.email),children:k.visitor.email})})})]}),Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{md:4,children:Object(S.jsx)("p",{className:"mb-0",children:Object(S.jsxs)("strong",{children:[O("address"),": "]})})}),Object(S.jsxs)(g.a,{md:8,children:[Object(S.jsx)("span",{className:"mb-0",children:(null===k||void 0===k||null===(i=k.shippingAddress)||void 0===i?void 0:i.street)&&(null===k||void 0===k||null===(l=k.shippingAddress)||void 0===l?void 0:l.number)&&"".concat(k.shippingAddress.street," ").concat(k.shippingAddress.number)}),Object(S.jsxs)("span",{className:"mb-0",children:[(null===k||void 0===k||null===(o=k.shippingAddress)||void 0===o?void 0:o.zipcode)&&" ".concat(k.shippingAddress.zipcode),",",(null===k||void 0===k||null===(u=k.shippingAddress)||void 0===u?void 0:u.city)&&" ".concat(k.shippingAddress.city),",",(null===k||void 0===k||null===(j=k.shippingAddress)||void 0===j?void 0:j.country)&&" ".concat(k.shippingAddress.country)]})]})]}),Object(S.jsx)(v.a,{children:Object(S.jsx)(g.a,{className:"col-12 mt-2",children:(null===k||void 0===k?void 0:k.isDelivered)?Object(S.jsx)(ce,{variant:"success",children:Object(S.jsxs)(Re.a,{i18nKey:"delivered-message",children:["Delivered at ",pe(null===k||void 0===k?void 0:k.deliveredAt)]})}):Object(S.jsxs)(ce,{variant:"danger",children:[O("not-delivered-yet"),"."]})})})]}),Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[Object(S.jsxs)("h4",{className:"mb-2",children:[O("order-items"),":"]}),(null===k||void 0===k||null===(b=k.cartItems)||void 0===b?void 0:b.length)?Object(S.jsx)(ie.a,{variant:"",children:(null===k||void 0===k?void 0:k.cartItems)&&k.cartItems.map((function(e,t){return Object(S.jsx)(ie.a.Item,{className:"my-2 p-2",style:{backgroundColor:"ghostwhite",borderTopWidth:"1px"},children:Object(S.jsxs)(v.a,{className:"align-items-center m-0",children:[Object(S.jsx)(g.a,{xs:2,lg:1,className:"px-0",children:Object(S.jsx)(be.a,{src:e.image[0].path,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(g.a,{xs:6,lg:7,className:"px-2 py-2 fs-10",children:Object(S.jsx)(x.Link,{to:"/products/".concat(e._id),children:e.name})}),Object(S.jsxs)(g.a,{xs:4,className:"px-0 fs-12",children:[e.qty," x ",me(e.price)," = ",me(Number(Number(e.qty)*Number(e.price)).toFixed(2))]})]})},t)}))}):Object(S.jsxs)(ce,{children:[O("your-order-is-empty"),"."]})]})]})}),Object(S.jsx)(g.a,{lg:4,className:"mb-5 pl-lg-4 col-lg-4",children:Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsxs)(ie.a.Item,{className:"px-0",children:[Object(S.jsxs)(W.a,{className:"my-2 text-right",children:[Object(S.jsxs)(ie.a,{variant:"flush",children:[Object(S.jsx)(W.a.Header,{className:"p-3 text-right",children:Object(S.jsx)("h5",{className:"mb-0 text-center",children:O("order-summary")})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{xs:4,className:"px-1",children:Object(S.jsxs)("strong",{children:[O("items"),":"]})}),Object(S.jsx)(g.a,{xs:8,className:"pr-4 text-right",children:me(k.itemsPrice)})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{xs:4,className:"px-1",children:Object(S.jsxs)("strong",{children:[O("shipping"),":"]})}),Object(S.jsx)(g.a,{xs:8,className:"pr-4 text-right",children:me(k.shippingPrice)})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{xs:4,className:"px-1",children:Object(S.jsxs)("strong",{children:[O("tax"),":"]})}),Object(S.jsx)(g.a,{xs:8,className:"pr-4 text-right",children:me(k.taxPrice)})]})}),Object(S.jsx)(ie.a.Item,{children:Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{xs:4,className:"px-1",children:Object(S.jsx)("h5",{children:Object(S.jsxs)("strong",{children:[O("total"),":"]})})}),Object(S.jsx)(g.a,{xs:8,className:"pr-4 text-right",children:Object(S.jsx)("h5",{children:Object(S.jsx)("strong",{children:me(k.totalPrice)})})})]})})]}),(null===L||void 0===L?void 0:L.isAdmin)&&Object(S.jsx)(W.a.Footer,{className:"p-2",children:(null===k||void 0===k?void 0:k.isPaid)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(F.a,{className:"btn btn-block bg-danger",onClick:ue,children:O("mark-as-not-paid")}),(null===k||void 0===k?void 0:k.isDelivered)?Object(S.jsx)(F.a,{className:"btn btn-block bg-danger",onClick:je,children:O("mark-as-not-delivered")}):Object(S.jsx)(F.a,{className:"btn btn-block bg-info",onClick:je,children:O("mark-as-delivered")})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(F.a,{className:"btn btn-block bg-success",onClick:ue,children:O("mark-as-paid")}),(null===k||void 0===k?void 0:k.isDelivered)?Object(S.jsx)(F.a,{className:"btn btn-block bg-danger",onClick:je,children:O("mark-as-not-delivered")}):Object(S.jsx)(F.a,{className:"btn btn-block bg-info",onClick:je,children:O("mark-as-delivered")})]})})]}),P&&Object(S.jsx)(ce,{variant:"danger",children:P})]}),!k.isPaid&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(ie.a.Item,{className:"p-0",children:[M&&Object(S.jsx)(ne,{}),I?Object(S.jsx)(ye.PayPalButton,{amount:k.totalPrice,currency:"EUR",onSuccess:function(e,t){D(function(e,t){return function(){var n=Object(T.a)(N.a.mark((function n(a,r){var c,s,i,l;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:d.ORDER_PAY_REQUEST}),c={headers:{"Content-Type":"application/json"}},n.next=5,A.a.put("/api/orders/".concat(e,"/pay"),t,c);case 5:s=n.sent,i=s.data,console.log("data: ",i),a({type:d.ORDER_PAY_SUCCESS,payload:i}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),l=n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message,a({type:d.ORDER_PAY_FAIL,payload:l});case 15:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(E,e)),D({type:d.CART_ITEMS_RESET})},shippingPreference:"NO_SHIPPING",catchError:function(e){console.log("error: ",e)}}):Object(S.jsx)(ne,{})]}),L?Object(S.jsx)(ie.a.Item,{className:"p-0",children:Object(S.jsx)(F.a,{className:"btn-sm w-100 mr-2",variant:"outline-danger",onClick:function(){return e=k._id,D(ve(e));var e},children:O("cancel-order")})}):""]})]})})]})})},Ne=n(370),Te=function(){var e=Object(Y.a)().t,t=Object(s.b)(),n=Object(s.c)((function(e){return e.myOrders})),r=n.myOrders,c=n.loading,i=n.error;console.log("myOrders: ",r);var l=Object(s.c)((function(e){return e.orderCancel})),o=l.loading,u=l.success,j=l.error;Object(a.useEffect)((function(){return u?(t(ge()),t({type:d.ORDER_CREATE_RESET})):t(ge()),function(){(u||j)&&t({type:d.ORDER_CANCEL_RESET})}}),[t,j,u]);var b=function(e){return new Date(e).toLocaleDateString("de-DE",{dateStyle:"medium"})};return c||o?Object(S.jsx)(ne,{}):i||j?Object(S.jsx)(ce,{variant:"danger",children:i||j}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("h3",{className:"mb-2",children:[e("my-orders"),":"]}),(null===r||void 0===r?void 0:r.length)?Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"ID"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:e("date")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:e("total")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:e("paid")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:e("delivered")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:e("details")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:e("cancel")})]})}),Object(S.jsx)("tbody",{children:r.map((function(n){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:n._id}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:b(n.createdAt)}),Object(S.jsx)("td",{className:"text-right px-2",style:{verticalAlign:"middle"},children:(a=n.totalPrice,new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(a))}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:(null===n||void 0===n?void 0:n.isPaid)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:b(null===n||void 0===n?void 0:n.paidAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:(null===n||void 0===n?void 0:n.isDelivered)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:b(null===n||void 0===n?void 0:n.deliveredAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Object(S.jsx)(R.LinkContainer,{to:"/orders/".concat(n._id),children:Object(S.jsx)(F.a,{className:"btn-sm w-100 mr-2",variant:"outline-info",children:e("details")})})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:(null===n||void 0===n?void 0:n.isPaid)?Object(S.jsx)("i",{className:"fas fa-times text-danger"}):Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"outline-danger",onClick:function(){return e=n._id,t(ve(e));var e},children:e("cancel")})})]},n._id);var a}))})]}):Object(S.jsxs)(ce,{variant:"info",children:[e("you-dont-have-any-orders-yet"),".",Object(S.jsx)(R.LinkContainer,{to:"/",children:Object(S.jsxs)(F.a,{className:"btn-sm ml-3",variant:"outline-info",children:[Object(S.jsx)("i",{className:"fas fa-home pr-1"})," Home"]})})]})]})},Ce=function(e){var t=e.history,n=Object(Y.a)().t,r=Object(s.c)((function(e){return e.cart})).shippingAddress,c=Object(s.c)((function(e){return e.userLogin})).userInfo,i=Object(s.c)((function(e){return e.userAsGuest})).guestInfo,l=Object(a.useState)((null===i||void 0===i?void 0:i.name)?i.name:""),o=Object(y.a)(l,2),u=o[0],j=o[1],b=Object(a.useState)((null===i||void 0===i?void 0:i.email)?i.email:""),p=Object(y.a)(b,2),m=p[0],h=p[1],O=Object(a.useState)((null===r||void 0===r?void 0:r.street)?r.street:""),x=Object(y.a)(O,2),E=x[0],f=x[1],v=Object(a.useState)((null===r||void 0===r?void 0:r.number)?r.number:""),_=Object(y.a)(v,2),R=_[0],I=_[1],C=Object(a.useState)((null===r||void 0===r?void 0:r.zipcode)?r.zipcode:""),D=Object(y.a)(C,2),L=D[0],U=D[1],k=Object(a.useState)((null===r||void 0===r?void 0:r.city)?r.city:""),w=Object(y.a)(k,2),P=w[0],G=w[1],M=Object(a.useState)((null===r||void 0===r?void 0:r.country)?r.country:""),Q=Object(y.a)(M,2),B=Q[0],z=Q[1],V=Object(s.b)();return Object(S.jsxs)(he,{children:[Object(S.jsx)(Ee,{step1:!0,step2:!0}),Object(S.jsxs)(le.a,{onSubmit:function(e){var n,a;e.preventDefault(),!c&&V((n={name:u,email:m},function(){var e=Object(T.a)(N.a.mark((function e(t){var a,r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:d.USER_AS_GUEST_REQUEST}),a={headers:{"Content-Type":"Application/json"}},e.next=5,A.a.post("/api/users/register/visitor",n,a);case 5:r=e.sent,c=r.data,t({type:d.USER_AS_GUEST_SUCCESS,payload:c}),localStorage.setItem("userAsGuestInfo",JSON.stringify(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:d.USER_AS_GUEST_FAILED,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())),V((a={street:E,number:R,zipcode:L,city:P,country:B},function(){var e=Object(T.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:d.CART_SAVE_USER_SHIPPING_ADDRESS,payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),V(ue("PayPal")),t.push("/placeorder")},children:[!c&&Object(S.jsxs)(W.a,{className:"mb-3",children:[Object(S.jsx)(W.a.Header,{className:"p-2",children:Object(S.jsx)("h5",{children:n("guest-info")})}),Object(S.jsx)(W.a.Body,{className:"p-2",children:Object(S.jsxs)(le.a.Row,{children:[Object(S.jsxs)(le.a.Group,{as:g.a,sm:6,lg:8,controlId:"name",children:[Object(S.jsxs)(le.a.Label,{children:[n("name-and-surname"),"*"]}),Object(S.jsx)(le.a.Control,{type:"text",name:"name",placeholder:n("enter-your-name-and-surname"),value:u,required:!0,onChange:function(e){return j(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{as:g.a,sm:6,lg:4,controlId:"email",children:[Object(S.jsxs)(le.a.Label,{children:[n("email-address"),"*"]}),Object(S.jsx)(le.a.Control,{type:"email",name:"email",placeholder:n("enter-email"),value:m,onChange:function(e){return h(e.target.value)}})]})]})})]}),Object(S.jsxs)(W.a,{className:"mb-3",children:[Object(S.jsx)(W.a.Header,{className:"p-2",children:Object(S.jsx)("h5",{children:n("shipping-address")})}),Object(S.jsxs)(W.a.Body,{className:"p-2",children:[Object(S.jsxs)(le.a.Row,{children:[Object(S.jsxs)(le.a.Group,{as:g.a,sm:6,lg:8,controlId:"street",children:[Object(S.jsxs)(le.a.Label,{children:[n("street"),"*"]}),Object(S.jsx)(le.a.Control,{type:"text",name:"street",placeholder:n("enter-street"),value:E,required:!0,onChange:function(e){return f(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{as:g.a,sm:6,lg:4,controlId:"number",children:[Object(S.jsxs)(le.a.Label,{children:[n("number"),"*"]}),Object(S.jsx)(le.a.Control,{type:"text",name:"number",placeholder:n("enter-number"),value:R,required:!0,onChange:function(e){return I(e.target.value)}})]})]}),Object(S.jsxs)(le.a.Row,{children:[Object(S.jsxs)(le.a.Group,{as:g.a,sm:4,lg:4,controlId:"zipcode",children:[Object(S.jsx)(le.a.Label,{children:n("zip-code")}),Object(S.jsx)(le.a.Control,{type:"text",name:"zipcode",placeholder:n("enter-zip-code"),value:L,onChange:function(e){return U(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{as:g.a,sm:4,lg:4,controlId:"city",children:[Object(S.jsxs)(le.a.Label,{children:[n("city"),"*"]}),Object(S.jsx)(le.a.Control,{type:"text",name:"city",placeholder:n("enter-city"),value:P,required:!0,onChange:function(e){return G(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{as:g.a,sm:4,lg:4,controlId:"country",children:[Object(S.jsxs)(le.a.Label,{children:[n("country"),"*"]}),Object(S.jsx)(le.a.Control,{type:"text",name:"country",placeholder:n("enter-country"),value:B,required:!0,onChange:function(e){return z(e.target.value)}})]})]}),Object(S.jsx)(F.a,{type:"submit",className:"btn-block",variant:"primary",children:n("continue")})]})]})]})]})},Ae=function(e){var t=e.history,n=Object(Y.a)().t;Object(s.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var r=Object(a.useState)("PayPal"),c=Object(y.a)(r,2),i=c[0],l=c[1],o=Object(s.b)();return Object(S.jsxs)(he,{children:[Object(S.jsx)(Ee,{step1:!0,step2:!0,step3:!0}),Object(S.jsx)("h3",{children:n("payment-method")}),Object(S.jsx)(W.a,{children:Object(S.jsx)(W.a.Body,{children:Object(S.jsxs)(le.a,{onSubmit:function(e){e.preventDefault(),o(ue(i)),t.push("/placeorder")},children:[Object(S.jsxs)(le.a.Group,{children:[Object(S.jsxs)(le.a.Label,{as:"legend",children:[n("select-method"),":"]}),Object(S.jsx)(g.a,{children:Object(S.jsx)(le.a.Check,{type:"radio",label:"PayPal or Debit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return l(e.target.value)}})}),Object(S.jsx)(g.a,{children:Object(S.jsx)(le.a.Check,{type:"radio",label:"Stripe",id:"Stripe",name:"paymentMethod",value:"Stripe",onChange:function(e){return l(e.target.value)}})})]}),Object(S.jsx)(F.a,{type:"submit",variant:"primary",children:n("continue")})]})})})]})},De=n(373),Le=function(e){var t=e.history,n=Object(Y.a)().t,r=Object(a.useState)(!1),c=Object(y.a)(r,2),i=c[0],l=c[1],o=Object(s.b)(),u=Object(s.c)((function(e){return e.userList})),j=u.users,b=u.loading,p=u.error,m=Object(s.c)((function(e){return e.userLogin})).userInfo,h=Object(s.c)((function(e){return e.userDelete})),O=h.deletedUser,x=h.loading,E=h.error,f=Object(s.c)((function(e){return e.userEdit})),v=f.success,g=f.error;Object(a.useEffect)((function(){return m&&m.isAdmin?(null===m||void 0===m?void 0:m.isAdmin)&&o(U()):t.push("/login"),v?l(!0):g&&l(!1),function(){(v||g)&&o({type:d.USER_EDIT_RESET})}}),[o,m,t,v,g]),Object(a.useEffect)((function(){(null===m||void 0===m?void 0:m.isAdmin)&&O&&o(U())}),[o,m,O]);var _=Object(a.useState)(!1),I=Object(y.a)(_,2),C=I[0],D=I[1],L=Object(a.useState)(null),k=Object(y.a)(L,2),w=k[0],P=k[1],G=function(e){var t;e&&o((t=w._id,function(){var e=Object(T.a)(N.a.mark((function e(n,a){var r,c,s,i,l,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:d.USER_DELETE_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,A.a.delete("/api/users/".concat(t),s);case 6:i=e.sent,l=i.data,n({type:d.USER_DELETE_SUCCESS,payload:l}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,n({type:d.USER_DELETE_FAILED,payload:o});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())),D(!1)};return b||x?Object(S.jsx)(ne,{}):p||E?Object(S.jsx)(ce,{variant:"danger",children:p||E}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("h3",{className:"mb-2",children:[n("my-orders"),":"]}),i&&Object(S.jsxs)(ce,{variant:"success",children:[n("user-edited-successfully"),"."]}),O&&Object(S.jsx)(ce,{variant:"success",children:Object(S.jsxs)(Re.a,{i18nKey:"success-deleted-user",children:["User ",null===O||void 0===O?void 0:O.name," with id: ",null===O||void 0===O?void 0:O._id," was successfully deleted."]})}),(null===j||void 0===j?void 0:j.length)?Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Id"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Name"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Email"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Admin"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"}})]})}),Object(S.jsx)("tbody",{children:j.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:e._id}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:e.name}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Object(S.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:e.isAdmin?Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsxs)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:[Object(S.jsx)(R.LinkContainer,{to:"/admin/useredit/".concat(e._id,"/edit"),children:Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"outline-info",children:Object(S.jsx)("i",{className:"fas fa-edit"})})}),Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"danger",onClick:function(){return function(e){P(e),D(!0)}(e)},"data-toggle":"confirmation",children:Object(S.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}):Object(S.jsxs)(ce,{variant:"info",children:[n("there-is-no-user-yet"),".",Object(S.jsx)(R.LinkContainer,{to:"/",children:Object(S.jsxs)(F.a,{className:"btn-sm ml-3",variant:"outline-info",children:[Object(S.jsx)("i",{className:"fas fa-home pr-1"})," Home"]})})]}),Object(S.jsxs)(De.a,{show:C,size:"lg",onHide:function(){return G(!1)},children:[Object(S.jsxs)(De.a.Body,{children:[Object(S.jsxs)("h3",{children:[" ",n("would-you-really-want-to-remove-the-user"),"? "]}),Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm mt-4 fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Id"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Name"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Email"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Admin"})]})}),Object(S.jsx)("tbody",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===w||void 0===w?void 0:w._id}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===w||void 0===w?void 0:w.name}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Object(S.jsx)("a",{href:"mailto:".concat(null===w||void 0===w?void 0:w.email),children:null===w||void 0===w?void 0:w.email})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:(null===w||void 0===w?void 0:w.isAdmin)?Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})})]})})]})]}),Object(S.jsxs)(De.a.Footer,{children:[Object(S.jsx)(F.a,{variant:"secondary",onClick:function(){return G(!1)},children:n("no")}),Object(S.jsx)(F.a,{variant:"primary",onClick:function(){return G(!0)},children:n("yes")})]})]})]})},Ue=function(e){var t=e.match,n=e.history,r=Object(Y.a)().t,c=Object(a.useState)(""),i=Object(y.a)(c,2),l=i[0],o=i[1],u=Object(a.useState)(""),j=Object(y.a)(u,2),b=j[0],p=j[1],m=Object(a.useState)(!1),h=Object(y.a)(m,2),O=h[0],x=h[1],E=Object(s.b)(),f=Object(s.c)((function(e){return e.userDetails})),v=f.loading,g=f.error,_=f.user,R=Object(s.c)((function(e){return e.userLogin})).userInfo,I=Object(s.c)((function(e){return e.userEdit})),C=I.success,U=I.error;Object(a.useEffect)((function(){R||n.push("/login")}),[n,R]),Object(a.useEffect)((function(){E({type:d.USER_DETAILS_RESET})}),[E]),Object(a.useEffect)((function(){_&&_.name?(o(_.name),p(_.email),x(_.isAdmin)):E(L(null===t||void 0===t?void 0:t.params.id))}),[E,null===t||void 0===t?void 0:t.params.id,_]),Object(a.useEffect)((function(){return C&&n.push("/admin/userlist"),function(){(C||U)&&E({type:d.USER_DETAILS_RESET})}}),[E,U,n,C]);return Object(S.jsxs)(he,{children:[Object(S.jsx)("h3",{className:"mb-2",children:r("edit-user")}),v?Object(S.jsx)(ne,{}):g||U?Object(S.jsx)(ce,{variant:"danger",children:g||U}):Object(S.jsx)(W.a,{children:Object(S.jsx)(W.a.Body,{className:"p-2",children:Object(S.jsxs)(le.a,{onSubmit:function(e){e.preventDefault(),E(function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.USER_EDIT_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.put("/api/users/".concat(e.id),e,s);case 6:n({type:d.USER_EDIT_SUCCESS}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(D()),n({type:d.USER_EDIT_FAIL,payload:i});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:_._id,name:l,email:b,isAdmin:O}))},children:[Object(S.jsxs)(le.a.Group,{controlId:"name",children:[Object(S.jsx)(le.a.Label,{children:r("name-and-surname")}),Object(S.jsx)(le.a.Control,{type:"text",placeholder:r("enter-your-name-and-surname"),value:l,onChange:function(e){return o(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"email",children:[Object(S.jsx)(le.a.Label,{children:r("email-address")}),Object(S.jsx)(le.a.Control,{type:"email",placeholder:r("enter-email"),value:b,onChange:function(e){return p(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{className:"mb-3",controlId:"isAdmin",children:[Object(S.jsx)(le.a.Label,{children:r("permission-level")}),Object(S.jsx)(le.a.Check,{type:"checkbox",label:"Admin",checked:O,onChange:function(e){return x(e.target.checked)}}),Object(S.jsx)(le.a.Check,{type:"checkbox",label:r("user"),checked:!O,onChange:function(e){return x(!e.target.checked)}})]}),Object(S.jsx)(F.a,{type:"submit",variant:"primary",className:"btn-block",children:r("update")})]})})})]})},ke=function(e){var t=e.history,n=(e.match,Object(Y.a)().t),r=Object(s.b)(),c=z().width,i=Object(s.c)((function(e){return e.products})),l=i.products,o=i.loading,u=i.error,j=Object(s.c)((function(e){return e.userLogin})).userInfo,b=Object(s.c)((function(e){return e.productDelete})),p=b.deletedProduct,m=b.loading,h=b.error;Object(a.useEffect)((function(){j&&j.isAdmin?(null===j||void 0===j?void 0:j.isAdmin)&&r(H()):t.push("/login")}),[r,j,t]),Object(a.useEffect)((function(){(null===j||void 0===j?void 0:j.isAdmin)&&p&&r(H())}),[r,j,p]);var O=Object(a.useState)(!1),x=Object(y.a)(O,2),E=x[0],f=x[1],_=Object(a.useState)(null),I=Object(y.a)(_,2),C=I[0],D=I[1],L=function(e){var t;e&&r((t=C._id,function(){var e=Object(T.a)(N.a.mark((function e(n,a){var r,c,s,i,l,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:d.DELETE_SINGLE_PRODUCT_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,A.a.delete("/api/products/".concat(t),s);case 6:i=e.sent,l=i.data,n({type:d.DELETE_SINGLE_PRODUCT_SUCCESS,payload:l}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,n({type:d.DELETE_SINGLE_PRODUCT_FAILED,payload:o});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())),f(!1)};return o||m?Object(S.jsx)(ne,{}):u||h?Object(S.jsx)(ce,{variant:"danger",children:u||h}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(v.a,{children:[Object(S.jsx)(g.a,{children:Object(S.jsxs)("h3",{className:"mb-2",children:[n("products"),":"]})}),Object(S.jsx)(g.a,{className:"text-right",children:Object(S.jsx)(R.LinkContainer,{to:"/admin/product/add",children:Object(S.jsxs)(F.a,{variant:"warning",children:[Object(S.jsx)("i",{className:"fas fa-plus ".concat(c>=576&&"mr-2")}),c<576?null:n("add-product")]})})})]}),p&&Object(S.jsx)(ce,{variant:"success",children:Object(S.jsxs)(Re.a,{i18nKey:"success-deleted-product",children:["Product '",null===p||void 0===p?void 0:p.name,"' with id: ",null===p||void 0===p?void 0:p._id," was successfully deleted"]})}),(null===l||void 0===l?void 0:l.length)?Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Id"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Name"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:n("price")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:n("category")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:n("brand")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:n("actions")})]})}),Object(S.jsx)("tbody",{children:l.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:e._id}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:e.name}),Object(S.jsx)("td",{className:"text-right",style:{verticalAlign:"middle"},children:(t=e.price,new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(t))}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:e.category}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:e.brand}),Object(S.jsxs)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:[Object(S.jsx)(R.LinkContainer,{to:"/admin/productedit/".concat(e._id,"/edit"),children:Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"outline-info",children:Object(S.jsx)("i",{className:"fas fa-edit"})})}),Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"danger",onClick:function(){return D(e),void f(!0)},"data-toggle":"confirmation",children:Object(S.jsx)("i",{className:"fas fa-trash"})})]})]},e._id);var t}))})]}):Object(S.jsxs)(ce,{variant:"info",children:[n("there-is-no-product-yet"),".",Object(S.jsx)(R.LinkContainer,{to:"/",children:Object(S.jsxs)(F.a,{className:"btn-sm ml-3",variant:"outline-info",children:[Object(S.jsx)("i",{className:"fas fa-home pr-1"})," Home"]})})]}),Object(S.jsxs)(De.a,{show:E,size:"lg",onHide:function(){return L(!1)},children:[Object(S.jsxs)(De.a.Body,{children:[Object(S.jsxs)("h3",{children:[" ",n("would-you-really-want-to-remove-the-product"),"? "]}),Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm mt-4 fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Id"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Name"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:n("price")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:n("category")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:n("brand")})]})}),Object(S.jsx)("tbody",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===C||void 0===C?void 0:C._id}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===C||void 0===C?void 0:C.name}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===C||void 0===C?void 0:C.price}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===C||void 0===C?void 0:C.category}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===C||void 0===C?void 0:C.brand})]})})]})]}),Object(S.jsxs)(De.a.Footer,{children:[Object(S.jsx)(F.a,{variant:"secondary",onClick:function(){return L(!1)},children:n("no")}),Object(S.jsx)(F.a,{variant:"primary",onClick:function(){return L(!0)},children:n("yes")})]})]})]})},we=n(377),Pe=n(384),Fe=n(371),Ge=n(40),Me=n(378),Qe=n(379),Be=function(e){var t,n,r,c,i,l,o=e.history,d=(e.match,Object(Y.a)().t),u=Object(a.useState)(15),j=Object(y.a)(u,2),b=j[0],p=j[1],m=Object(a.useState)(""),h=Object(y.a)(m,2),O=h[0],x=h[1],E=Object(a.useState)([]),f=Object(y.a)(E,2),_=f[0],I=f[1],N=Object(a.useState)(0),T=Object(y.a)(N,2),C=T[0],A=T[1],D=Object(a.useState)(15),L=Object(y.a)(D,2),U=L[0],k=L[1],w=Object(a.useState)(""),P=Object(y.a)(w,2),G=P[0],M=P[1],Q=Object(a.useState)([]),B=Object(y.a)(Q,2),z=B[0],V=B[1],H=Object(a.useState)(0),q=Object(y.a)(H,2),K=q[0],J=q[1],Z=Object(a.useState)(!1),$=Object(y.a)(Z,2),X=$[0],ee=$[1],te=Object(a.useState)([1,0]),ae=Object(y.a)(te,2),re=ae[0],se=ae[1],ie=Object(a.useState)(null),le=Object(y.a)(ie,2),oe=le[0],de=le[1],ue=Object(s.b)(),je=Object(s.c)((function(e){return e.orders})),be=je.orders,pe=je.loading,me=je.error,he=Object(s.c)((function(e){return e.userLogin})).userInfo,Oe=Object(s.c)((function(e){return e.orderCancel})),xe=Oe.cancelledOrder,Ee=Oe.loading,fe=Oe.error;Object(a.useEffect)((function(){he&&he.isAdmin?(null===he||void 0===he?void 0:he.isAdmin)&&ue(Se()):o.push("/login")}),[ue,he,o]),Object(a.useEffect)((function(){(null===he||void 0===he?void 0:he.isAdmin)&&xe&&ue(Se())}),[ue,he,xe]),Object(a.useEffect)((function(){if(be){var e,t,n,a;if(null===be||void 0===be?void 0:be.userOrders)x(null===be||void 0===be||null===(e=be.userOrders)||void 0===e?void 0:e.length),I(ge(null===be||void 0===be||null===(t=be.userOrders)||void 0===t?void 0:t.length,b));if(null===be||void 0===be?void 0:be.visitorOrders)M(null===be||void 0===be||null===(n=be.visitorOrders)||void 0===n?void 0:n.length),V(ge(null===be||void 0===be||null===(a=be.visitorOrders)||void 0===a?void 0:a.length,U))}}),[be,b,U]);var ge=function(e,t){for(var n=[],a=1;a<=e;a++)if(a>=t){if(!(a%t)&&(n.push(a),e-a<t))return e-a?(n.push(a+t),n):n}else if(e===a)return n.push(t),n},_e=function(e){de(e),ee(!0)},ye=function(e){e&&ue(ve(oe._id)),ee(!1)},Ie=function(e){se((function(t){return t.map((function(t,n){return n===e?1:0}))}))},Te=function(e){return new Date(e).toLocaleDateString("de-DE",{dateStyle:"medium"})},Ce=function(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e)};return pe||Ee?Object(S.jsx)(ne,{}):me||fe?Object(S.jsx)(ce,{variant:"danger",children:me||fe}):Object(S.jsxs)(S.Fragment,{children:[xe&&Object(S.jsx)(ce,{variant:"success",children:Object(S.jsxs)(Re.a,{i18nKey:"success-deleted-order",children:["Order (id: ",null===xe||void 0===xe?void 0:xe._id,") was successfully deleted."]})}),Object(S.jsxs)(we.a,{defaultActiveKey:"0",children:[Object(S.jsxs)(W.a,{children:[Object(S.jsxs)(W.a.Header,{className:"border-0 d-flex p-0 m-0",children:[Object(S.jsx)(we.a.Toggle,{eventKey:"0",className:"flex-grow-1 border-0 p-2 p-md-3 w-100",onClick:function(){return Ie(0)},style:{backgroundColor:re[0]?"#cccccc":"#eeeeee"},children:Object(S.jsxs)("h4",{className:"mb-0 fs-16",children:[d("orders-by-users"),":"]})}),Object(S.jsx)(we.a.Toggle,{eventKey:"1",className:"flex-grow-1 border-0 p-2 p-md-3 w-100",onClick:function(){return Ie(1)},style:{backgroundColor:re[1]?"#cccccc":"#eeeeee"},children:Object(S.jsxs)("h4",{className:"mb-0 fs-16",children:[d("orders-by-guests"),":"]})})]}),Object(S.jsx)(we.a.Collapse,{eventKey:"0",children:Object(S.jsx)(W.a.Body,{className:"m-0 p-0 border-0",children:(null===be||void 0===be||null===(t=be.userOrders)||void 0===t?void 0:t.length)?Object(S.jsxs)(S.Fragment,{children:[b>15&&Object(S.jsx)(v.a,{children:Object(S.jsxs)(g.a,{className:"col d-flex justify-content-center my-3 py-0",children:[Object(S.jsxs)(Pe.a,{size:"sm",className:"mb-0",children:[Object(S.jsx)(Pe.a.First,{onClick:function(){return A(0)}}),Object(S.jsx)(Pe.a.Prev,{onClick:function(){return A(C>0?C-1:C)}}),null===_||void 0===_?void 0:_.map((function(e,t){return Object(S.jsx)(Pe.a.Item,{active:t===C,onClick:function(){return A(t)},children:t+1},t)})),Object(S.jsx)(Pe.a.Next,{onClick:function(){return A(C<Number.parseInt(O/b)&&O%b?C+1:C)}}),Object(S.jsx)(Pe.a.Last,{onClick:function(){return A(O%b?Number.parseInt(O/b):Number.parseInt(O/b)-1)}})]}),Object(S.jsx)(Fe.a,{size:"sm",id:"dropdown-basic-button",className:"mx-1",variant:"info",title:b,children:ge(O,5)&&ge(O,5).map((function(e){return Object(S.jsx)(Ge.a.Item,{onClick:function(t){p(e),A(0)},children:e},e)}))})]})}),Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm mb-0 fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"#"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Id"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("user")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("date")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("total")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("paid")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("delivered")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("actions")})]})}),Object(S.jsx)("tbody",{children:null===be||void 0===be||null===(n=be.userOrders)||void 0===n?void 0:n.map((function(e,t){var n,a,r,c,s,i,l,o;return b*C<=t&&t<b*(C+1)&&Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:t+1}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===e||void 0===e?void 0:e._id}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Object(S.jsx)(Me.a,{trigger:["hover","focus"],placement:"right",overlay:Object(S.jsxs)(Qe.a,{id:"popover-basic",children:[Object(S.jsx)(Qe.a.Title,{as:"h3",children:"Info"}),Object(S.jsx)(Qe.a.Content,{children:Object(S.jsx)("table",{children:Object(S.jsxs)("tbody",{children:[Object(S.jsxs)("tr",{children:[(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n._id)&&Object(S.jsx)("th",{className:"text-bold pr-2",children:"ID:"}),(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a._id)&&Object(S.jsx)("td",{children:e.user._id})]}),Object(S.jsxs)("tr",{children:[(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name)&&Object(S.jsx)("th",{className:"text-bold pr-2",children:"Name:"}),(null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.name)&&Object(S.jsx)("td",{children:e.user.name})]}),Object(S.jsxs)("tr",{children:[(null===e||void 0===e||null===(s=e.user)||void 0===s?void 0:s.email)&&Object(S.jsx)("th",{className:"text-bold pr-2",children:"Email:"}),(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.email)&&Object(S.jsx)("td",{children:e.user.email})]})]})})})]}),children:Object(S.jsx)(R.LinkContainer,{to:"/admin/useredit/".concat(null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l._id,"/edit"),children:Object(S.jsx)(F.a,{className:"btn-sm border-0 w-100 mr-2",variant:"outline-info",children:null===e||void 0===e||null===(o=e.user)||void 0===o?void 0:o.name})})})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Te(null===e||void 0===e?void 0:e.createdAt)}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Ce(null===e||void 0===e?void 0:e.totalPrice)}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:e.isPaid?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:Te(e.paidAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:e.isDelivered?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:Te(e.deliveredAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsxs)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:[Object(S.jsx)(R.LinkContainer,{to:"/orders/".concat(e._id),children:Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"outline-info",children:Object(S.jsx)("i",{className:"fas fa-edit"})})}),Object(S.jsx)(F.a,{className:"btn-sm",variant:"danger",onClick:function(){return _e(e)},"data-toggle":"confirmation",children:Object(S.jsx)("i",{className:"fas fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]}),Object(S.jsx)(v.a,{children:Object(S.jsxs)(g.a,{className:"col d-flex justify-content-center my-3 py-0",children:[Object(S.jsxs)(Pe.a,{size:"sm",className:"mb-0",children:[Object(S.jsx)(Pe.a.First,{onClick:function(){return A(0)}}),Object(S.jsx)(Pe.a.Prev,{onClick:function(){return A(C>0?C-1:C)}}),null===_||void 0===_?void 0:_.map((function(e,t){return Object(S.jsx)(Pe.a.Item,{active:t===C,onClick:function(){return A(t)},children:t+1},t)})),Object(S.jsx)(Pe.a.Next,{onClick:function(){return A(C<Number.parseInt(O/b)&&O%b?C+1:C)}}),Object(S.jsx)(Pe.a.Last,{onClick:function(){return A(O%b?Number.parseInt(O/b):Number.parseInt(O/b)-1)}})]}),Object(S.jsx)(Fe.a,{size:"sm",id:"dropdown-basic-button",className:"mx-1",variant:"info",title:b,children:ge(O,5)&&ge(O,5).map((function(e){return Object(S.jsx)(Ge.a.Item,{onClick:function(t){return p(e)},children:e},e)}))})]})})]}):Object(S.jsxs)(ce,{variant:"info",children:[Object(S.jsxs)("span",{className:"fs-12",children:[d("there-is-no-order-yet"),"."]}),Object(S.jsx)(R.LinkContainer,{to:"/",children:Object(S.jsxs)(F.a,{className:"btn-sm ml-3",variant:"outline-info",children:[Object(S.jsx)("i",{className:"fas fa-home pr-1"})," Home"]})})]})})})]}),Object(S.jsx)(W.a,{children:Object(S.jsx)(we.a.Collapse,{eventKey:"1",children:Object(S.jsx)(W.a.Body,{className:"m-0 p-0 border-0",children:(null===be||void 0===be||null===(r=be.visitorOrders)||void 0===r?void 0:r.length)?Object(S.jsxs)(S.Fragment,{children:[U>15&&Object(S.jsx)(v.a,{children:Object(S.jsxs)(g.a,{className:"col d-flex justify-content-center my-3 py-0",children:[Object(S.jsxs)(Pe.a,{size:"sm",className:"mb-0",children:[Object(S.jsx)(Pe.a.First,{onClick:function(){return J(0)}}),Object(S.jsx)(Pe.a.Prev,{onClick:function(){return J(K>0?K-1:K)}}),null===z||void 0===z?void 0:z.map((function(e,t){return Object(S.jsx)(Pe.a.Item,{active:t===K,onClick:function(){return J(t)},children:t+1},t)})),Object(S.jsx)(Pe.a.Next,{onClick:function(){return A(K<Number.parseInt(G/U)&&G%U?K+1:K)}}),Object(S.jsx)(Pe.a.Last,{onClick:function(){return A(G%U?Number.parseInt(G/U):Number.parseInt(G/U)-1)}})]}),Object(S.jsx)(Fe.a,{size:"sm",id:"dropdown-basic-button",className:"px-1",variant:"info",title:U,children:ge(G,5)&&ge(G,5).map((function(e){return Object(S.jsx)(Ge.a.Item,{onClick:function(t){k(e),J(0)},children:e},e)}))})]})}),Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm mb-0 fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"#"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Id"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("guest")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("date")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("total")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("paid")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("delivered")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("actions")})]})}),Object(S.jsx)("tbody",{children:null===be||void 0===be||null===(c=be.visitorOrders)||void 0===c?void 0:c.map((function(e,t){var n,a,r,c,s,i,l,o;return U*K<=t&&t<U*(K+1)&&Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:t+1}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===e||void 0===e?void 0:e._id}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Object(S.jsx)(Me.a,{trigger:["hover","focus"],placement:"right",overlay:Object(S.jsxs)(Qe.a,{id:"popover-basic",children:[Object(S.jsx)(Qe.a.Title,{as:"h3",children:"Info"}),Object(S.jsx)(Qe.a.Content,{children:Object(S.jsx)("table",{children:Object(S.jsxs)("tbody",{children:[Object(S.jsxs)("tr",{children:[(null===e||void 0===e||null===(n=e.visitor)||void 0===n?void 0:n._id)&&Object(S.jsx)("th",{className:"text-bold pr-2",children:"ID:"}),(null===e||void 0===e||null===(a=e.visitor)||void 0===a?void 0:a._id)&&Object(S.jsx)("td",{children:e.visitor._id})]}),Object(S.jsxs)("tr",{children:[(null===e||void 0===e||null===(r=e.visitor)||void 0===r?void 0:r.name)&&Object(S.jsx)("th",{className:"text-bold pr-2",children:"Name:"}),(null===e||void 0===e||null===(c=e.visitor)||void 0===c?void 0:c.name)&&Object(S.jsx)("td",{children:e.visitor.name})]}),Object(S.jsxs)("tr",{children:[(null===e||void 0===e||null===(s=e.visitor)||void 0===s?void 0:s.email)&&Object(S.jsx)("th",{className:"text-bold pr-2",children:"Email:"}),(null===e||void 0===e||null===(i=e.visitor)||void 0===i?void 0:i.email)&&Object(S.jsx)("td",{children:e.visitor.email})]})]})})})]}),children:Object(S.jsx)(R.LinkContainer,{to:"/admin/useredit/".concat(null===e||void 0===e||null===(l=e.visitor)||void 0===l?void 0:l._id,"/edit"),children:Object(S.jsx)(F.a,{className:"btn-sm w-100 mr-2",variant:"outline-info",children:null===e||void 0===e||null===(o=e.visitor)||void 0===o?void 0:o.name})})})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Te(null===e||void 0===e?void 0:e.createdAt)}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Ce(null===e||void 0===e?void 0:e.totalPrice)}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:e.isPaid?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:Te(e.paidAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:e.isDelivered?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:Te(e.deliveredAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsxs)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:[Object(S.jsx)(R.LinkContainer,{to:"/orders/".concat(e._id),children:Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"outline-info",children:Object(S.jsx)("i",{className:"fas fa-edit"})})}),Object(S.jsx)(F.a,{className:"btn-sm mr-2",variant:"danger",onClick:function(){return _e(e)},"data-toggle":"confirmation",children:Object(S.jsx)("i",{className:"fas fa-trash"})})]})]},null===e||void 0===e?void 0:e._id)}))})]}),Object(S.jsx)(v.a,{children:Object(S.jsxs)(g.a,{className:"col d-flex justify-content-center my-3 py-0",children:[Object(S.jsxs)(Pe.a,{size:"sm",className:"mb-0",children:[Object(S.jsx)(Pe.a.First,{onClick:function(){return J(0)}}),Object(S.jsx)(Pe.a.Prev,{onClick:function(){return J(K>0?K-1:K)}}),null===z||void 0===z?void 0:z.map((function(e,t){return Object(S.jsx)(Pe.a.Item,{active:t===K,onClick:function(){return J(t)},children:t+1},t)})),Object(S.jsx)(Pe.a.Next,{onClick:function(){return A(K<Number.parseInt(G/U)&&G%U?K+1:K)}}),Object(S.jsx)(Pe.a.Last,{onClick:function(){return A(G%U?Number.parseInt(G/U):Number.parseInt(G/U)-1)}})]}),Object(S.jsx)(Fe.a,{size:"sm",id:"dropdown-basic-button",className:"px-1",variant:"info",title:U,children:ge(G,5)&&ge(G,5).map((function(e){return Object(S.jsx)(Ge.a.Item,{onClick:function(t){return k(e)},children:e},e)}))})]})})]}):Object(S.jsxs)(ce,{variant:"info",children:[Object(S.jsxs)("span",{className:"fs-12",children:[d("there-is-no-order-yet"),"."]}),Object(S.jsx)(R.LinkContainer,{to:"/",children:Object(S.jsxs)(F.a,{className:"btn-sm ml-3",variant:"outline-info",children:[Object(S.jsx)("i",{className:"fas fa-home pr-1"})," Home"]})})]})})})})]}),Object(S.jsxs)(De.a,{show:X,size:"lg",onHide:function(){return ye(!1)},children:[Object(S.jsxs)(De.a.Body,{children:[Object(S.jsxs)("h3",{children:[" ",d("would-you-really-want-to-cancel-the-order"),"? "]}),Object(S.jsxs)(Ne.a,{striped:!0,bordered:!0,responsive:!0,hover:!0,className:"table-sm mt-4 fs-12",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:"Id"}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("name")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("date")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("total")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("paid")}),Object(S.jsx)("th",{className:"text-center",style:{verticalAlign:"middle",textTransform:"uppercase"},children:d("delivered")})]})}),Object(S.jsx)("tbody",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===oe||void 0===oe?void 0:oe._id}),(null===oe||void 0===oe?void 0:oe.user)&&Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===oe||void 0===oe||null===(i=oe.user)||void 0===i?void 0:i.name}),(null===oe||void 0===oe?void 0:oe.visitor)&&Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:null===oe||void 0===oe||null===(l=oe.visitor)||void 0===l?void 0:l.name}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Te(null===oe||void 0===oe?void 0:oe.createdAt)}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle"},children:Ce(null===oe||void 0===oe?void 0:oe.totalPrice)}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:(null===oe||void 0===oe?void 0:oe.isPaid)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:Te(null===oe||void 0===oe?void 0:oe.paidAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})}),Object(S.jsx)("td",{className:"text-center",style:{verticalAlign:"middle",whiteSpace:"nowrap"},children:(null===oe||void 0===oe?void 0:oe.isDelivered)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:Te(null===oe||void 0===oe?void 0:oe.deliveredAt)}),Object(S.jsx)("i",{className:"fas fa-check ml-2 text-success"})]}):Object(S.jsx)("i",{className:"fas fa-times text-danger"})})]})})]})]}),Object(S.jsxs)(De.a.Footer,{children:[Object(S.jsx)(F.a,{variant:"secondary",onClick:function(){return ye(!1)},children:d("no")}),Object(S.jsx)(F.a,{variant:"primary",onClick:function(){return ye(!0)},children:d("yes")})]})]})]})},ze=n(372),Ye=function(e){var t,n=e.match,r=e.history,c=Object(Y.a)().t,i=Object(a.useState)(""),l=Object(y.a)(i,2),o=l[0],j=l[1],b=Object(a.useState)(""),p=Object(y.a)(b,2),m=p[0],h=p[1],O=Object(a.useState)(""),x=Object(y.a)(O,2),E=x[0],f=x[1],_=Object(a.useState)(""),I=Object(y.a)(_,2),C=I[0],L=I[1],U=Object(a.useState)(""),k=Object(y.a)(U,2),w=k[0],P=k[1],G=Object(a.useState)(0),M=Object(y.a)(G,2),Q=M[0],B=M[1],z=Object(a.useState)([]),V=Object(y.a)(z,2),H=V[0],K=V[1],J=Object(a.useState)([]),Z=Object(y.a)(J,2),$=Z[0],X=Z[1],ee=Object(a.useState)(!1),te=Object(y.a)(ee,2),ae=te[0],re=te[1],se=Object(s.b)(),oe=Object(a.useRef)(),de=Object(s.c)((function(e){return e.userLogin})).userInfo,ue=Object(s.c)((function(e){return e.product})),je=ue.loading,pe=ue.error,me=ue.product,Oe=Object(s.c)((function(e){return e.productEdit})),xe=Oe.success,Ee=Oe.error,fe=Oe.loading;Object(a.useEffect)((function(){de||r.push("/login")}),[r,de]),Object(a.useEffect)((function(){return(null===me||void 0===me?void 0:me._id)||xe?me&&(console.log("product: ",me),j(me.name),h(me.description),f(me.brand),L(me.category),P(me.price),B(me.countInStock),K(Object(u.a)(me.image))):se(q(null===n||void 0===n?void 0:n.params.id)),function(){me&&me._id&&se({type:d.SINGLE_PRODUCT_RESET})}}),[se,null===n||void 0===n?void 0:n.params.id,me,xe]),Object(a.useEffect)((function(){return xe&&se(q(null===n||void 0===n?void 0:n.params.id)),function(){(xe||Ee)&&se({type:d.PRODUCT_EDIT_RESET})}}),[se,Ee,null===n||void 0===n?void 0:n.params.id,xe]);var ve,ge=function(){var e=Object(T.a)(N.a.mark((function e(t){var n,a,r,c,s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n=[],X([]),t.target.files)"item"!==a&&"length"!==a&&function(){var e=t.target.files[a];/image\/.*/gm.test(e.type)?n.push(e):X((function(t){return[].concat(Object(u.a)(t),["".concat(e.name,' is not an image file. Accepted types:  ".jpg", ".jpeg", ".png"')])}))}();return r=new FormData,e.prev=4,re(!0),n.forEach((function(e){return r.append("image",e)})),c={headers:{"Content-Type":"multipart/form-data"}},e.next=10,A.a.post("/api/uploads",r,c);case 10:s=e.sent,i=s.data,K((function(e){return[].concat(Object(u.a)(e),Object(u.a)(i.filter((function(t){return!e.filter((function(e){return t.originalname===e.originalname})).length}))))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0);case 18:return e.prev=18,re(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(T.a)(N.a.mark((function e(t,n,a){var r,c,s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,re(!0),e.next=4,A.a.delete("/api/uploads/delete/".concat(t,"/").concat(n));case 4:r=e.sent,"deleted"===(null===(c=r.data)||void 0===c?void 0:c.status)?(s=Object(u.a)(H),s.splice(a,1)&&K(s)):X(["Some Images were not deleted successfully!"]),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,X([i]);case 13:return e.prev=13,re(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t,n,a){return e.apply(this,arguments)}}();return console.log("error, errorEdit, imgError: ",pe,Ee,$),console.log("successEdit: ",xe),Object(S.jsxs)(he,{children:[Object(S.jsx)("h3",{className:"mb-2",children:c("edit-product")}),je||fe||ae?Object(S.jsx)(ne,{}):Object(S.jsxs)(S.Fragment,{children:[(pe||Ee)&&Object(S.jsx)(ce,{variant:"danger",children:pe||Ee}),xe&&Object(S.jsxs)(ce,{variant:"success",children:[c("success-product-was-updated"),"!"]}),0!==(null===$||void 0===$?void 0:$.length)&&$.map((function(e,t){return Object(S.jsx)(ce,{variant:"danger",children:e},t)})),Object(S.jsx)(W.a,{children:Object(S.jsx)(W.a.Body,{className:"p-2",children:Object(S.jsxs)(le.a,{onSubmit:function(e){e.preventDefault(),se(function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.PRODUCT_EDIT_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.put("/api/products/".concat(e.id),e,s);case 6:n({type:d.PRODUCT_EDIT_SUCCESS}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),"Not authorized, token failed"===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(D()),n({type:d.PRODUCT_EDIT_FAIL,payload:i});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:me._id,name:o,description:m,brand:E,category:C,price:w,countInStock:Q,image:H}))},children:[Object(S.jsxs)(le.a.Group,{controlId:"name",children:[Object(S.jsx)(le.a.Label,{children:"Name"}),Object(S.jsx)(le.a.Control,{type:"text",placeholder:c("enter-product-name"),value:o,onChange:function(e){return j(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"description",children:[Object(S.jsx)(le.a.Label,{children:c("description")}),Object(S.jsx)(le.a.Control,{as:"textarea",rows:3,placeholder:c("enter-description"),value:m,onChange:function(e){return h(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"brand",children:[Object(S.jsx)(le.a.Label,{children:c("brand")}),Object(S.jsx)(le.a.Control,{type:"text",placeholder:c("enter-brand"),value:E,onChange:function(e){return f(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"category",children:[Object(S.jsx)(le.a.Label,{children:c("category")}),Object(S.jsx)(le.a.Control,{type:"text",placeholder:c("enter-category"),value:C,onChange:function(e){return L(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"price",children:[Object(S.jsxs)(le.a.Label,{children:[c("price")," (\u20ac)"]}),Object(S.jsxs)(ze.a,{children:[Object(S.jsx)(le.a.Control,{type:"text",placeholder:c("enter-price"),value:w,onChange:function(e){return P(e.target.value)}}),Object(S.jsx)(ze.a.Text,{id:"btnGroupAddon",children:(ve=w,ve?new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(ve):"")})]})]}),Object(S.jsxs)(le.a.Group,{controlId:"countInStock",children:[Object(S.jsx)(le.a.Label,{children:"Count In Stock"}),Object(S.jsx)(le.a.Control,{type:"number",min:"0",placeholder:c("enter-count-in-stock"),value:Q,onChange:function(e){return B(e.target.value)}})]}),Object(S.jsxs)(le.a.Group,{controlId:"image",children:[Object(S.jsx)(le.a.Label,{children:c("image")}),Object(S.jsx)(ie.a,{children:0!==(null===H||void 0===H?void 0:H.length)&&H.map((function(e,t){return Object(S.jsx)(ie.a.Item,{className:"mb-1 p-1",style:{backgroundColor:"ghostwhite",borderTopWidth:"1px"},children:Object(S.jsxs)(v.a,{className:"align-items-center m-0",children:[Object(S.jsx)(g.a,{xs:2,className:"px-0",children:Object(S.jsx)(be.a,{src:e.path,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(g.a,{xs:8,className:"px-0 pl-2 text-sm-left fs-10",children:null===e||void 0===e?void 0:e.name}),Object(S.jsx)(g.a,{xs:2,className:"px-0 text-right",children:Object(S.jsx)(F.a,{type:"button",variant:"light",onClick:function(){return Se(me._id,e.name,t)},children:Object(S.jsx)("i",{className:"fas fa-trash"})})})]})},t)}))}),Object(S.jsx)(le.a.File,{ref:oe,id:"image-file",label:c("choose-file"),custom:!0,onChange:ge,multiple:!0})]}),Object(S.jsx)(F.a,{type:"submit",variant:"primary",className:"btn-block mb-1",children:c("update")}),Object(S.jsx)(R.LinkContainer,{to:"/admin/productlist",children:Object(S.jsxs)(F.a,{variant:"info",className:"btn-block mb-1",children:[Object(S.jsx)("i",{className:"fas fa-chevron-circle-left mr-1"}),c("back-to-product-list")]})}),(null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.id)&&Object(S.jsx)(R.LinkContainer,{to:"/products/".concat(n.params.id),children:Object(S.jsxs)(F.a,{variant:"warning",className:"btn-block mb-1",children:[Object(S.jsx)("i",{className:"fas fa-chevron-circle-up mr-1"}),c("show-product")]})})]})})})]})]})},Ve=function(e){e.match;var t=e.history,n=Object(Y.a)().t,r=Object(Y.a)().i18n,c=Object(a.useState)("de"),i=Object(y.a)(c,2),l=i[0],o=i[1],j=Object(s.b)(),b=Object(a.useRef)();r.on("languageChanged",(function(e){var t;if(o(e),null===b||void 0===b||null===(t=b.current)||void 0===t?void 0:t.files)for(var n in b.current.files)"item"!==n&&"length"!==n&&function(){var e=b.current.files[n];!/image\/.*/gm.test(e.type)&&xe((function(t){return["".concat(e.name,"en"===l?' ist keine Bilddatei. Akzeptierte Typen:  ".jpg", ".jpeg", ".png"':' is not an image file. Accepted types:  ".jpg", ".jpeg", ".png"')]}))}()}));var p=Object(a.useState)(!1),m=Object(y.a)(p,2),h=m[0],O=m[1],x=Object(a.useState)(!1),E=Object(y.a)(x,2),f=E[0],_=E[1],I=Object(a.useState)(""),C=Object(y.a)(I,2),L=C[0],U=C[1],k=Object(a.useState)(""),w=Object(y.a)(k,2),P=w[0],G=w[1],M=Object(a.useState)(""),Q=Object(y.a)(M,2),B=Q[0],z=Q[1],V=Object(a.useState)(""),H=Object(y.a)(V,2),K=H[0],J=H[1],Z=Object(a.useState)(""),$=Object(y.a)(Z,2),X=$[0],ee=$[1],te=Object(a.useState)(""),ae=Object(y.a)(te,2),re=ae[0],se=ae[1],oe=Object(a.useState)([]),de=Object(y.a)(oe,2),ue=de[0],je=de[1],pe=Object(a.useState)([]),me=Object(y.a)(pe,2),Oe=me[0],xe=me[1],Ee=Object(a.useState)(!1),fe=Object(y.a)(Ee,2),ve=fe[0],ge=fe[1],Se=Object(s.c)((function(e){return e.userLogin})).userInfo,_e=Object(s.c)((function(e){return e.product})),ye=_e.loading,Re=_e.error,Ie=_e.product,Ne=Object(s.c)((function(e){return e.productNewAdd})),Te=Ne.loading,Ce=Ne.productAdded,Ae=Ne.error;Object(a.useEffect)((function(){Se||t.push("/login")}),[t,Se]),Object(a.useEffect)((function(){j({type:d.SINGLE_PRODUCT_RESET}),j({type:d.PRODUCT_NEW_ADD_RESET})}),[j]),Object(a.useEffect)((function(){return(null===Ce||void 0===Ce?void 0:Ce._id)&&(j(q(Ce._id)),_(!0)),function(){j({type:d.PRODUCT_NEW_ADD_RESET})}}),[j,Ae,Ce]),Object(a.useEffect)((function(){return Ie&&(U(Ie.name),G(Ie.description),z(Ie.brand),J(Ie.category),ee(Ie.price),se(Ie.countInStock),je(Object(u.a)(Ie.image))),function(){j({type:d.SINGLE_PRODUCT_RESET})}}),[j,Ae,Ie,Ce]);var De,Le=function(){var e=Object(T.a)(N.a.mark((function e(t){var n,a,r,c,s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n=[],xe([]),t.target.files)"item"!==a&&"length"!==a&&function(){var e=t.target.files[a];/image\/.*/gm.test(e.type)?n.push(e):xe((function(t){return[].concat(Object(u.a)(t),["".concat(e.name,"de"===l?' ist keine Bilddatei. Akzeptierte Typen:  ".jpg", ".jpeg", ".png"':' is not an image file. Accepted types:  ".jpg", ".jpeg", ".png"')])}))}();return r=new FormData,e.prev=4,ge(!0),n.forEach((function(e){return r.append("image",e)})),c={headers:{"Content-Type":"multipart/form-data"}},e.next=10,A.a.post("/api/uploads",r,c);case 10:s=e.sent,i=s.data,je((function(e){return[].concat(Object(u.a)(e),Object(u.a)(i.filter((function(t){return!e.filter((function(e){return t.originalname===e.originalname})).length}))))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0);case 18:return e.prev=18,ge(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(T.a)(N.a.mark((function e(t,n){var a,r,c,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ge(!0),e.next=4,A.a.delete("/api/uploads/delete/".concat(t));case 4:a=e.sent,"deleted"===(null===(r=a.data)||void 0===r?void 0:r.status)?(c=Object(u.a)(ue),c.splice(n,1)&&je(c)):xe(["Some Images were not deleted successfully!"]),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,xe([s]);case 13:return e.prev=13,ge(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(S.jsxs)(he,{children:[Object(S.jsx)("h4",{className:"mb-2 fs-22",children:n("add-a-new-product")}),(Te||ye||ve)&&Object(S.jsx)(ne,{}),(Ae||Re)&&Object(S.jsx)(ce,{variant:"danger",children:Ae||Re}),0!==(null===Oe||void 0===Oe?void 0:Oe.length)&&Oe.map((function(e,t){return Object(S.jsx)(ce,{variant:"danger",children:e},t)})),f&&Object(S.jsxs)(ce,{variant:"success",children:[n("success-product-was-generated"),"!"]}),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(W.a,{children:Object(S.jsx)(W.a.Body,{className:"p-2",children:Object(S.jsxs)(le.a,{noValidate:!0,validated:h,onSubmit:function(e){var t=e.currentTarget;e.preventDefault(),(null===t||void 0===t?void 0:t.checkValidity())?j(function(e){return function(){var t=Object(T.a)(N.a.mark((function t(n,a){var r,c,s,i,l;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:d.PRODUCT_NEW_ADD_REQUEST}),r=a(),c=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,A.a.post("/api/products/new",e,s);case 6:i=t.sent,n({type:d.PRODUCT_NEW_ADD_SUCCESS,payload:i.data}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),"Not authorized, token failed"===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&n(D()),n({type:d.PRODUCT_NEW_ADD_FAILED,payload:l});case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}({name:L,description:P,brand:B,category:K,price:X,countInStock:re,image:ue})):(e.stopPropagation(),O(!0))},children:[Object(S.jsxs)(le.a.Group,{controlId:"name",children:[Object(S.jsx)(le.a.Label,{children:"Name*"}),Object(S.jsx)(le.a.Control,{required:!0,type:"text",placeholder:n("enter-product-name"),value:L,onChange:function(e){return U(e.target.value)}}),Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("this-field-cannot-be-emty"),"."]}),Object(S.jsxs)(le.a.Control.Feedback,{children:[n("looks-good"),"!"]})]}),Object(S.jsxs)(le.a.Group,{controlId:"description",children:[Object(S.jsxs)(le.a.Label,{children:[n("description"),"*"]}),Object(S.jsx)(le.a.Control,{required:!0,as:"textarea",rows:3,placeholder:n("enter-description"),value:P,onChange:function(e){return G(e.target.value)}}),Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("this-field-cannot-be-emty"),"."]}),Object(S.jsxs)(le.a.Control.Feedback,{children:[n("looks-good"),"!"]})]}),Object(S.jsxs)(le.a.Group,{controlId:"brand",children:[Object(S.jsxs)(le.a.Label,{children:[n("brand"),"*"]}),Object(S.jsx)(le.a.Control,{required:!0,type:"text",placeholder:n("enter-brand"),value:B,onChange:function(e){return z(e.target.value)}}),Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("this-field-cannot-be-emty"),"."]}),Object(S.jsxs)(le.a.Control.Feedback,{children:[n("looks-good"),"!"]})]}),Object(S.jsxs)(le.a.Group,{controlId:"category",children:[Object(S.jsxs)(le.a.Label,{children:[n("category"),"*"]}),Object(S.jsx)(le.a.Control,{required:!0,type:"text",placeholder:n("enter-category"),value:K,onChange:function(e){return J(e.target.value)}}),Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("this-field-cannot-be-emty"),"."]}),Object(S.jsxs)(le.a.Control.Feedback,{children:[n("looks-good"),"!"]})]}),Object(S.jsxs)(le.a.Group,{controlId:"price",children:[Object(S.jsxs)(le.a.Label,{children:[n("price")," (\u20ac)"]}),Object(S.jsxs)(ze.a,{children:[Object(S.jsx)(le.a.Control,{required:!0,type:"text",placeholder:n("enter-price"),value:X,onChange:function(e){return ee(e.target.value)}}),Object(S.jsxs)(ze.a.Text,{id:"btnGroupAddon",children:[n("value"),": ",(De=X||"0",De?new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(De):"")]})]}),X>=0&&Object(S.jsxs)(le.a.Control.Feedback,{children:[n("looks-good"),"!"]}),X<0&&Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("please-enter-a-positive-number"),"!"]}),Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("this-field-cannot-be-emty"),"."]})]}),Object(S.jsxs)(le.a.Group,{controlId:"countInStock",children:[Object(S.jsx)(le.a.Label,{children:n("count-in-stock")}),Object(S.jsx)(le.a.Control,{required:!0,type:"number",placeholder:n("enter-count-in-stock"),value:re,onChange:function(e){return e.target.value>=0&&se(e.target.value)}}),re>=0&&Object(S.jsxs)(le.a.Control.Feedback,{children:[n("looks-good"),"!"]}),re<0&&Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("please-enter-a-positive-number"),"!"]}),void 0==re&&Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("this-field-cannot-be-emty"),"."]})]}),Object(S.jsxs)(le.a.Group,{controlId:"image",children:[Object(S.jsx)(le.a.Label,{children:n("image")}),Object(S.jsx)(ie.a,{children:0!==(null===ue||void 0===ue?void 0:ue.length)&&ue.map((function(e,t){return Object(S.jsx)(ie.a.Item,{className:"mb-1 p-1",style:{backgroundColor:"ghostwhite",borderTopWidth:"1px"},children:Object(S.jsxs)(v.a,{className:"align-items-center m-0",children:[Object(S.jsx)(g.a,{xs:1,className:"px-0",children:Object(S.jsx)(be.a,{src:null===e||void 0===e?void 0:e.path,alt:null===e||void 0===e?void 0:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(g.a,{xs:9,className:"px-0 pl-3 text-sm-left",children:null===e||void 0===e?void 0:e.name}),Object(S.jsx)(g.a,{xs:2,className:"px-2 text-right",children:Object(S.jsx)(F.a,{type:"button",variant:"light",onClick:function(){return Ue(e.name,t)},children:Object(S.jsx)("i",{className:"fas fa-trash"})})})]})},t)}))}),Object(S.jsx)(le.a.File,{ref:b,id:"image-file",label:n("choose-file"),custom:!0,onChange:Le,multiple:!0}),Object(S.jsxs)(le.a.Control.Feedback,{type:"invalid",children:[n("this-field-cannot-be-emty"),"."]}),Object(S.jsxs)(le.a.Control.Feedback,{children:[n("looks-good"),"!"]})]}),Object(S.jsx)(F.a,{type:"submit",variant:"primary",className:"btn-block mb-1",children:n("generate")}),Object(S.jsx)(R.LinkContainer,{to:"/admin/productlist",children:Object(S.jsxs)(F.a,{variant:"info",className:"btn-block mb-1",children:[Object(S.jsx)("i",{className:"fas fa-chevron-circle-left mr-1"}),n("back-to-product-list")]})})]})})})})]})},We=function(){return Object(S.jsxs)(x.BrowserRouter,{children:[Object(S.jsx)(V,{}),Object(S.jsx)("main",{id:"main",style:{paddingTop:"56px"},children:Object(S.jsxs)(f.a,{fluid:!0,className:"py-3",children:[Object(S.jsx)(E.d,{path:"/",component:se,exact:!0}),Object(S.jsx)(E.d,{path:"/login",component:me}),Object(S.jsx)(E.d,{path:"/register",component:Oe}),Object(S.jsx)(E.d,{path:"/profile",component:xe}),Object(S.jsx)(E.d,{path:"/placeorder",component:_e}),Object(S.jsx)(E.d,{path:"/my-orders",component:Te}),Object(S.jsx)(E.d,{path:"/orders/:id",component:Ie}),Object(S.jsx)(E.d,{path:"/shipping",component:Ce}),Object(S.jsx)(E.d,{path:"/payment-method",component:Ae}),Object(S.jsx)(E.d,{path:"/products/:id",component:je}),Object(S.jsx)(E.d,{path:"/cart/:id?",component:pe}),Object(S.jsx)(E.d,{path:"/admin/userlist",component:Le}),Object(S.jsx)(E.d,{path:"/admin/useredit/:id/edit",component:Ue}),Object(S.jsx)(E.d,{path:"/admin/productlist",component:ke}),Object(S.jsx)(E.d,{path:"/admin/orderlist",component:Be}),Object(S.jsx)(E.d,{path:"/admin/productedit/:id/edit",component:Ye}),Object(S.jsx)(E.d,{path:"/admin/product/add",component:Ve})]})}),Object(S.jsx)(_,{})]})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,385)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},qe=n(104),Ke=n(44);qe.a.use(Ke.e).init({fallbackLng:"en",lng:"de",resources:{de:{translations:n(354)},en:{translations:n(355)}},ns:["translations"],defaultNS:"translations",interpolation:{escapeValue:!1}}),qe.a.languages=["de","en"];qe.a;c.a.render(Object(S.jsx)(s.a,{store:O,children:Object(S.jsx)(We,{})}),document.getElementById("root")),He()}},[[356,1,2]]]);
//# sourceMappingURL=main.f0568d71.chunk.js.map